"use strict";
function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};layer.config({skin:"primary",shade:.5,resize:!1,inIframe:void 0!==$("html").attr("tabs")}),$.validator.addMethod("function",function(t,e,n){return n},function(){return $.validator.messages.remote}),function(t){var e={options:{id:"",title:"",content:"",className:"",width:"",height:"",size:"",target:"body",closeBtn:!0,shadeClose:!0,escape:!1,autoFocus:!0,show:!0,shade:!0,fade:!0,isCenter:!1,btns:[],onShowStart:function(){},onShowEnd:function(){},onHideStart:function(){},onHideEnd:function(){},onClose:function(){},lang:{info:"Info",alert:"Alert",confirm:"Confirm",prompt:"Prompt",ok:"OK",cancel:"Cancel"}},open:function(n){n=t.extend({},e.options,n);var i=""!==n.id?t("#"+n.id):void 0;i&&(i.modal("hide"),i=null),i&&i.length||(i=t('<div class="modal-admin modal '+(n.fade?"fade":"")+'" tabindex="-1" role="dialog" data-backdrop="'.concat(!!n.shade&&(!!n.shadeClose||"static"),'"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"></div></div></div></div>')));var s=i.find(".modal-body");if(n.title="string"==typeof n.lang[n.title]?n.lang[n.title]:n.title,n.closeBtn||n.title){var a=t('<div class="modal-header"></div>');n.title&&a.append('<h5 class="modal-title">'.concat(n.title,"</h5>")),n.closeBtn&&a.append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),s.before(a)}if(n.btns.length){var o=t('<div class="modal-footer"></div>');n.btns.forEach(function(e){e=t.extend(!0,{label:"Button",className:"btn-primary",onClick:function(t){}},e);var s=t('<button type="button" class="btn '+e.className+'">'+(n.lang[e.label]||e.label)+"</button>");s.on("click",function(t){t.hide=function(){i.modal("hide")},!1!==e.onClick(t)&&i.modal("hide")}),o.append(s)}),s.after(o)}return"string"==typeof n.content?s.html(n.content):"object"===_typeof(n.content)&&(s.empty(),t(n.content).contents().appendTo(s)),n.id&&i.attr("id",n.id),n.className&&i.addClass(n.className),n.width&&i.find(".modal-dialog").width(n.width).css("max-width",n.width),n.height&&i.find(".modal-dialog").height(n.height),n.size&&i.find(".modal-dialog").addClass("modal-"+n.size),n.isCenter&&i.find(".modal-dialog").addClass("modal-dialog-centered"),i.on("show.bs.modal",n.onShowStart),i.on("shown.bs.modal",n.onShowEnd),i.on("hide.bs.modal",n.onHideStart),i.on("hidden.bs.modal",function(){i.modal("dispose").remove(),n.onHideEnd()}),n.closeBtn&&i.find(".close").on("click",function(){return i.modal("hide"),n.onClose()}),t(n.target).append(i),i.modal({backdrop:!!n.shade&&(!!n.shadeClose||"static"),keyboard:n.escape,focus:n.autoFocus,show:n.show}),i},close:function(e){t(e).modal("hide")},closeAll:function(){t('.modal-admin[role="dialog"]').modal("hide")},alert:function(n,i,s){var a="function"==typeof i;return a&&(s=i),e.open(t.extend(!0,{title:"alert",content:n,btns:[{label:"ok",onClick:function(){if("function"==typeof s)return s()}}]},a?{}:i))},confirm:function(n,i,s,a){var o="function"==typeof i;return o&&(a=s,s=i),e.open(t.extend(!0,{title:"confirm",content:n,btns:[{label:"ok",onClick:function(){if("function"==typeof s)return s()}},{label:"cancel",className:"btn-secondary",onClick:function(){if("function"==typeof a)return a()}}]},o?{}:i))},prompt:function(n,i,s){n=n||{},"function"==typeof n&&(s=i,i=n),n.content=t("<div>".concat(n.content?"<h6>"+n.content+"</h6>":"",'<form><input type="text" class="form-control" value="'.concat(n.value||"",'"/></form></div>')));var a=n.content.find("form"),o=n.content.find("input");return e.open(t.extend(!0,{title:"prompt",btns:[{label:"ok",onClick:function(){if("function"==typeof i)return i(o.val())}},{label:"cancel",className:"btn-secondary",onClick:function(){if("function"==typeof s)return s()}}]},n,{onShowEnd:function(){o.focus(),a.on("submit",function(){if(t(this).modal("hide"),"function"==typeof i)return i(o.val())}.bind(this)),"function"==typeof n.onShowEnd&&n.onShowEnd()}}))}},n={options:{type:"primary",pos:"rt",appendType:"append",closeBtn:!1,content:"",time:2e3,zIndex:20210108,className:"",onClose:function(){},onClosed:function(){}},open:function(e){e=t.extend({},n.options,e),e.pos=e.pos||"rt";var i=t("#popper-alert-"+e.pos);i.length||(i=t('<div id="popper-alert-'+e.pos+'" class="popper-alert" style="z-index:'+e.zIndex+'"></div>'),t("body").append(i));var s=t('<div class="alert fade alert-'+e.type+'" role="alert">'+e.content+"</div>");return e.time&&(s.append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>').addClass("alert-dismissible"),setTimeout(function(){s.alert("close")},e.time)),"append"===e.appendType?i.append(s):i.prepend(s),setTimeout(function(){s.addClass("show")},50),s.on("close.bs.alert",e.onClose),s.on("closed.bs.alert",e.onClosed),s},close:function(e){return t(e).alert("close")},closeAll:function(){return t(".popper-alert .alert").alert("close")},primary:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.open(t.extend(!0,{type:"primary",content:e,onClose:s},a?{}:i))},secondary:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"secondary"},a?{}:i),s)},success:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"success"},a?{}:i),s)},danger:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"danger"},a?{}:i),s)},warning:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"warning"},a?{}:i),s)},info:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"info"},a?{}:i),s)},light:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"light"},a?{}:i),s)},dark:function(e,i,s){var a="function"==typeof i;return a&&(s=i),n.primary(e,t.extend(!0,{type:"dark"},a?{}:i),s)}};t.extend({bootstrapModaler:e,bootstrapAlert:n})}(jQuery),function(t){var e=function(t,e){return t<<e|t>>>32-e},n=function(t,e){var n,i,s,a,o;return s=2147483648&t,a=2147483648&e,n=1073741824&t,i=1073741824&e,o=(1073741823&t)+(1073741823&e),n&i?2147483648^o^s^a:n|i?1073741824&o?3221225472^o^s^a:1073741824^o^s^a:o^s^a},i=function(t,e,n){return t&e|~t&n},s=function(t,e,n){return t&n|e&~n},a=function(t,e,n){return t^e^n},o=function(t,e,n){return e^(t|~n)},l=function(t,s,a,o,l,r,c){return t=n(t,n(n(i(s,a,o),l),c)),n(e(t,r),s)},r=function(t,i,a,o,l,r,c){return t=n(t,n(n(s(i,a,o),l),c)),n(e(t,r),i)},c=function(t,i,s,o,l,r,c){return t=n(t,n(n(a(i,s,o),l),c)),n(e(t,r),i)},d=function(t,i,s,a,l,r,c){return t=n(t,n(n(o(i,s,a),l),c)),n(e(t,r),i)},f=function(t){for(var e,n=t.length,i=n+8,s=(i-i%64)/64,a=16*(s+1),o=Array(a-1),l=0,r=0;r<n;)e=(r-r%4)/4,l=r%4*8,o[e]=o[e]|t.charCodeAt(r)<<l,r++;return e=(r-r%4)/4,l=r%4*8,o[e]=o[e]|128<<l,o[a-2]=n<<3,o[a-1]=n>>>29,o},h=function(t){var e,n,i="",s="";for(n=0;n<=3;n++)e=t>>>8*n&255,s="0"+e.toString(16),i+=s.substr(s.length-2,2);return i},u=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e};t.extend({md5:function(t,e){t="string"!=typeof t?t.toString():t;var i,s,a,o,m,p,g,v,b,x=Array();for(t=u(t),x=f(t),p=1732584193,g=4023233417,v=2562383102,b=271733878,i=0;i<x.length;i+=16)s=p,a=g,o=v,m=b,p=l(p,g,v,b,x[i+0],7,3614090360),b=l(b,p,g,v,x[i+1],12,3905402710),v=l(v,b,p,g,x[i+2],17,606105819),g=l(g,v,b,p,x[i+3],22,3250441966),p=l(p,g,v,b,x[i+4],7,4118548399),b=l(b,p,g,v,x[i+5],12,1200080426),v=l(v,b,p,g,x[i+6],17,2821735955),g=l(g,v,b,p,x[i+7],22,4249261313),p=l(p,g,v,b,x[i+8],7,1770035416),b=l(b,p,g,v,x[i+9],12,2336552879),v=l(v,b,p,g,x[i+10],17,4294925233),g=l(g,v,b,p,x[i+11],22,2304563134),p=l(p,g,v,b,x[i+12],7,1804603682),b=l(b,p,g,v,x[i+13],12,4254626195),v=l(v,b,p,g,x[i+14],17,2792965006),g=l(g,v,b,p,x[i+15],22,1236535329),p=r(p,g,v,b,x[i+1],5,4129170786),b=r(b,p,g,v,x[i+6],9,3225465664),v=r(v,b,p,g,x[i+11],14,643717713),g=r(g,v,b,p,x[i+0],20,3921069994),p=r(p,g,v,b,x[i+5],5,3593408605),b=r(b,p,g,v,x[i+10],9,38016083),v=r(v,b,p,g,x[i+15],14,3634488961),g=r(g,v,b,p,x[i+4],20,3889429448),p=r(p,g,v,b,x[i+9],5,568446438),b=r(b,p,g,v,x[i+14],9,3275163606),v=r(v,b,p,g,x[i+3],14,4107603335),g=r(g,v,b,p,x[i+8],20,1163531501),p=r(p,g,v,b,x[i+13],5,2850285829),b=r(b,p,g,v,x[i+2],9,4243563512),v=r(v,b,p,g,x[i+7],14,1735328473),g=r(g,v,b,p,x[i+12],20,2368359562),p=c(p,g,v,b,x[i+5],4,4294588738),b=c(b,p,g,v,x[i+8],11,2272392833),v=c(v,b,p,g,x[i+11],16,1839030562),g=c(g,v,b,p,x[i+14],23,4259657740),p=c(p,g,v,b,x[i+1],4,2763975236),b=c(b,p,g,v,x[i+4],11,1272893353),v=c(v,b,p,g,x[i+7],16,4139469664),g=c(g,v,b,p,x[i+10],23,3200236656),p=c(p,g,v,b,x[i+13],4,681279174),b=c(b,p,g,v,x[i+0],11,3936430074),v=c(v,b,p,g,x[i+3],16,3572445317),g=c(g,v,b,p,x[i+6],23,76029189),p=c(p,g,v,b,x[i+9],4,3654602809),b=c(b,p,g,v,x[i+12],11,3873151461),v=c(v,b,p,g,x[i+15],16,530742520),g=c(g,v,b,p,x[i+2],23,3299628645),p=d(p,g,v,b,x[i+0],6,4096336452),b=d(b,p,g,v,x[i+7],10,1126891415),v=d(v,b,p,g,x[i+14],15,2878612391),g=d(g,v,b,p,x[i+5],21,4237533241),p=d(p,g,v,b,x[i+12],6,1700485571),b=d(b,p,g,v,x[i+3],10,2399980690),v=d(v,b,p,g,x[i+10],15,4293915773),g=d(g,v,b,p,x[i+1],21,2240044497),p=d(p,g,v,b,x[i+8],6,1873313359),b=d(b,p,g,v,x[i+15],10,4264355552),v=d(v,b,p,g,x[i+6],15,2734768916),g=d(g,v,b,p,x[i+13],21,1309151649),p=d(p,g,v,b,x[i+4],6,4149444226),b=d(b,p,g,v,x[i+11],10,3174756917),v=d(v,b,p,g,x[i+2],15,718787259),g=d(g,v,b,p,x[i+9],21,3951481745),p=n(p,s),g=n(g,a),v=n(v,o),b=n(b,m);return(e?h(g)+h(v):h(p)+h(g)+h(v)+h(b)).toLowerCase()}})}(jQuery),function(t){var e=function(t){return l.raw?t:encodeURIComponent(t)},n=function(t){return l.raw?t:decodeURIComponent(t)},i=function(t){return e(l.json?JSON.stringify(t):String(t))},s=function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(/\+/g," ")),l.json?JSON.parse(t):t}catch(t){}},a=function(e,n){var i=l.raw?e:s(e);return t.isFunction(n)?n(i):i},o={},l=function(s,l,r){if(void 0!==l&&!t.isFunction(l)){if(r=t.extend({},o,r),"NaN"!=Number(r.expires)&&Number(r.expires)){var c=r.expires,d=r.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[e(s),"=",i(l),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":"",r.sameSite?"; samesite="+r.sameSite:""].join("")}for(var f=s?void 0:{},h=document.cookie?document.cookie.split("; "):[],u=0,m=h.length;u<m;u++){var p=h[u].split("="),g=n(p.shift()),v=p.join("=");if(s&&s===g){f=a(v,l);break}s||void 0===(v=a(v))||(f[g]=v)}return f};t.extend({bootstrapCookie:{get:function(t,e){return l(t,void 0,e)},set:function(t,e,n){return l(t,e,n)},remove:function(e,n){return void 0!==l(e)&&(l(e,"",t.extend({},n,{expires:-1})),!l(e))}}})}(jQuery),function(t){var e,n={settings:{content:"",close:!0,monitor:"body",render:".content-page",paneClass:"dtabs-pane",iframe:!0,offset:65,drop:240,target:".dtabs",symbol:"dtabs",metismenu:!1,loadbar:!0,contextmenu:"dtabes-menu",dblclick:!0,store:!1,storeName:"admin.tabs",ajax:{async:!0,dataType:"html",type:"get"},local:{refreshLabel:"Refresh",closeThisLabel:"Close",closeOtherLabel:"Close Other",closeLeftLabel:"Close Left",closeRightLabel:"Close Right",loadbar:"Loading, please wait..."},callback:function(){},resize:function(){}}},i=function(){if(window.localStorage)if("object"==_typeof(arguments[0]))arguments[0].each(function(t,e){localStorage.setItem(t,e)});else{if(!arguments[1])return localStorage.getItem(arguments[0]);localStorage.setItem(arguments[0],arguments[1])}},s=function(i){var s,a;return s="object"==_typeof(i.data("tabs"))?i.data("tabs"):i.data(),a=s.url?s.url:i.attr("href"),s.id||s.tabs||(s.id=a?t.md5(a.split("?")[0],!0):Math.random().toString(36).substring(3,35),i.data("id",s.id)),n.add({target:s.target?s.target:e,id:s.id?s.id:s.tabs,title:s.title?s.title:i.html(),content:n.settings.content?n.settings.content:s.content,url:a,ajax:!!s.ajax&&s.ajax})},a=function(e,n,i){return t("<a>",{href:"javascript:",class:"list-group-item","data-action":e}).append(t("<i>",{class:"fa "+n})).append(i)},o=function(i,s,o){var l="#"+n.settings.contextmenu;t("body").find(l).remove();var r=s.attr("id")?a("refresh","fa-sync",n.settings.local.refreshLabel):"",c=s.attr("id")?a("remove","fa-trash-alt",n.settings.local.closeThisLabel):"";n.settings.close&&!s.attr("close")&&(c="");var d=s.prev("li").attr("id")?a("remove-left","fa-chevron-left",n.settings.local.closeLeftLabel):"";n.settings.close&&!s.prev("li").attr("close")&&(d="");var f=s.next("li").attr("id")?a("remove-right","fa-chevron-right",n.settings.local.closeRightLabel):"";n.settings.close&&!s.next("li").attr("close")&&(f="");var h=t("<ul>",{"aria-controls":i,class:"dtabs-menu list-group",id:n.settings.contextmenu,"aria-url":s.attr("aria-url"),"aria-ajax":s.attr("aria-ajax")}).append(r).append(c).append(a("remove-circle","fa-times-circle",n.settings.local.closeOtherLabel)).append(d).append(f);h.css({top:o.pageY,left:o.pageX}),h.appendTo(t("body")).show(),t(window).width()<=480&&t(l).css("left",(t(window).width()-t(l).width())/2),t(l+" a[data-action=refresh]").on("click",function(){var e=t(this).parent("ul").attr("aria-controls").substring("dtab_".length),i=t(this).parent("ul").attr("aria-url"),s=t(this).parent("ul").attr("aria-ajax");n.add({id:e,url:i,refresh:!0,ajax:s})}),t(l+" a[data-action=remove]").on("click",function(){var e=t(this).parent("ul").attr("aria-controls");0==e.indexOf("dtab_")&&(n.close({id:e}),n.drop())}),t(l+" a[data-action=remove-circle]").on("click",function(){var i=t(this).parent("ul").attr("aria-controls");e.find("li").each(function(){var e=t(this).attr("id");if(n.settings.close&&!t(this).attr("close"))return!0;e&&e!="dtab_"+i&&n.close({id:t(this).children("a").attr("aria-controls")})}),n.drop()}),t(l+" a[data-action=remove-left]").on("click",function(){var e=t(this).parent("ul").attr("aria-controls");t("#dtab_"+e).prevUntil().each(function(){var i=t(this).attr("id");i&&i!="dtab_"+e&&n.close({id:t(this).children("a").attr("aria-controls")})}),n.drop()}),t(l+" a[data-action=remove-right]").on("click",function(){var e=t(this).parent("ul").attr("aria-controls");t("#dtab_"+e).nextUntil().each(function(){var i=t(this).attr("id");i&&i!="dtab_"+e&&n.close({id:t(this).children("a").attr("aria-controls")})}),n.drop()}),h.mouseleave(function(){t(this).remove()}),t(window).click(function(){h.remove()})},l=function(){var e=n.settings.metismenu;if(e&&window.metisMenu){var i=t(n.settings.target).children(".active").attr("id");if(i){i=i.substring("dtab_dtab_".length),t(".mm-active",e).removeClass("mm-active"),t('[aria-expanded="true"]',e).attr("aria-expanded",""),t(".mm-show",e).removeClass("mm-show");var s=t('[data-tabs="'+i+'"]').attr("aria-expanded",!0);s.parents("a.has-arrow").attr("aria-expanded",!0),s.parents("li").addClass("mm-active"),s.parents("ul.mm-collapse").addClass("mm-show")}}},r=function(e){l();var i,s;if(n.settings.iframe&&(e?(i=t(n.settings.target).find("#dtab_dtab_"+e),s="#dtab_"+e):(i=t(n.settings.target).find('.active[role="presentation"]'),s=i.find("a").attr("href")),s&&s.length&&t(n.settings.render).find(s).addClass("active").siblings().removeClass("active"),i&&i.length)){var a=i.attr("aria-url"),o=-1==a.indexOf(n.settings.symbol+"=frame")?a+(a.indexOf("?")>-1?"&":"?")+n.settings.symbol+"=frame":a;if(window.history.pushState&&a&&!t(n.settings.monitor).data("pushstate"))try{t(n.settings.monitor).trigger("tabs:change",[{id:e||null,url:a,history:o}]),window.history.pushState(e?{id:e}:null,null,o)}catch(t){}var r=t(n.settings.render).children(s).find("iframe");r.length||(r=t(n.settings.render).children(s).html(t("<iframe>",{width:"100%",height:"100%",border:"0"})).find("iframe")),r.attr("src")||(r.attr("src",r.attr("url")||-1==a.indexOf(n.settings.symbol+"=html")?a+(a.indexOf("?")>-1?"&":"?")+n.settings.symbol+"=html":a),r.parent().addClass("active"))}},c=function(){t(n.settings.monitor).on("click","[data-tabs]",function(){if(1==t(this).data("ignore")||t(this).attr("href").indexOf("javascript:")>-1||!t(this).attr("href")||"#"==t(this).attr("href"))return!1;var e=s(t(this));return n.drop(),t(this).hasClass("dropdown-item")&&t(this).closest(".dropdown-menu").removeClass("show"),t(this).trigger("tabs:click",[e]),!1}),n.settings.dblclick&&t("body").on("dblclick",'a[data-toggle="tab"]',function(){var e=t(this).attr("aria-controls").substring("dtab_".length),i=t(this).parent("li").attr("aria-url"),s=t(this).parent("li").attr("aria-ajax");n.add({id:e,url:i,refresh:!0,ajax:s})}),t("body").on("click",".fa-times",function(){var e=t(this).closest("a").attr("aria-controls");n.close({id:e}),n.drop()}),n.settings.contextmenu&&t("body").on("contextmenu","li[role=presentation]",function(e){var n=t(this).children("a").attr("aria-controls");return o(n,t(this),e),!1});var e;t("body").on("dragstart.h5s",n.settings.target+" li",function(n){e=t(this),n.originalEvent&&n.originalEvent.dataTransfer&&"function"==typeof n.originalEvent.dataTransfer.clearData&&n.originalEvent.dataTransfer.clearData()}).on("dragover.h5s dragenter.h5s drop.h5s",n.settings.target+" li",function(n){e!=t(this)&&(t(".dragBack").removeClass("dragBack"),t(this).addClass("dragBack"),e.index()<t(this).index()?e.insertAfter(t(this)):t(this).insertAfter(e))}).on("dragend.h5s",n.settings.target+" li",function(){t(".dragBack").removeClass("dragBack")});var a=function(e){t(this).parent("li").addClass("active").siblings("li").removeClass("active");var s=t(this).closest(".tabdrop");s.length||t(".tabdrop",n.settings.target).find(".active").removeClass("active"),s.length&&s.addClass("active").siblings("li").removeClass("active");var a=t(this).parent("li").attr("id");if(a=a?a.substring("dtab_dtab_".length):"",r(a),n.settings.store){var o=t.parseJSON(i(n.settings.storeName));t.each(o,function(t,e){e.id==a?e.active="true":delete e.active}),o=JSON.stringify(o),i(n.settings.storeName,o)}};t("body").on("click.bs.dropdown.data-api",'a[data-toggle="tab"]',a),t(window).on("resize",function(){n.drop()}),window.history.pushState&&t(window).on("popstate",function(e){var i=e.originalEvent.state;if(i&&i.id){var s=t("#dtab_dtab_"+i.id);s.length&&(t(n.settings.monitor).data("pushstate",!0),s.find("a").trigger("click"))}})};n.init=function(s){n.set(s),c();var a,o;if(n.settings.store){var l=i(n.settings.storeName)?t.parseJSON(i(n.settings.storeName)):{},d=[],f=[];t.each(l,function(t,e){d.push(t),f.push(e)}),d=d.reverse(),f=f.reverse(),t.each(d,function(t,e){var i=f[t];i.init=!0,i.active&&(a=e,o=i.id),n.add(i)})}if(a||t('[role="presentation"]',n.settings.target).each(function(e,n){if(!t(n).hasClass("active"))return!0;var i=t(n).attr("id");a=i.substring("dtab_".length),o=a.substring("dtab_".length)}),a)e.children(".active").removeClass("active"),t("#dtab_"+a).addClass("active"),t(n.settings.render).children(":not(#"+a+")").removeClass("active"),r(o);else{var h=location.protocol+"//"+location.host+location.pathname;t('[role="presentation"]',n.settings.target).each(function(e,i){var s=t(i).attr("aria-url");if(s&&0===s.indexOf(h))return t(i).addClass("active"),t(n.settings.render).children().removeClass("active"),r(),!1})}n.drop()},n.set=function(){arguments[0]&&("object"==_typeof(arguments[0])?n.settings=t.extend(n.settings,arguments[0]||{}):n.settings[arguments[0]]=arguments[1]),e="object"==_typeof(n.settings.target)?n.settings.target:t("body").find(n.settings.target).length>0?t(n.settings.target).first():t("body").find(".nav-tabs").first(),t(n.settings.render).children(':not([role="tabpanel"])').remove();var i=window.location.href;-1==i.indexOf(n.settings.symbol+"=frame")&&(i+=(i.indexOf("?")>-1?"&":"?")+n.settings.symbol+"=frame",window.location.href=i),n.settings.close&&t('[role="presentation"]',e).each(function(e,n){e&&(t(n).attr("close",!0),t("a",n).html("<span>"+t("a",n).html()+'</span><i class="fa fa-times"></i>'))})},n.add=function(s){var a,o;s.id=s.id?s.id:s.url?t.md5(s.url.split("?")[0],!0):Math.random().toString(36).substring(3,35),a="object"==_typeof(s.target)?s.target:"string"==typeof s.target?t("body").find(s.target).first():e;var l="dtab_"+s.id,c=a,d=s.init;if(delete s.init,s.refresh=s.refresh||c.find("#dtab_"+l).attr("aria-url")!=s.url,s.ajax=!n.settings.iframe&&s.ajax,n.settings.store&&!d){var f=i(n.settings.storeName),h=f&&"null"!=f?t.parseJSON(f):{};h[l]=t.extend(h[l]?h[l]:{},s),h[l].target="object"==_typeof(h[l].target)?n.settings.target:h[l].target,t.each(h,function(t,e){delete e.active,delete e.init}),h[l].active="true",h=JSON.stringify(h),i(n.settings.storeName,h)}var u=t(n.settings.render);if(c.children('li[role="presentation"].active').removeClass("active"),u.children('div[role="tabpanel"].active').removeClass("active"),c.find("#dtab_"+l).length){if(!s.refresh)return t("#dtab_"+l).addClass("active"),t("#"+l).addClass("active"),r(s.id),s;o=t("#"+l),o.html("")}else{var m=t("<div>",{id:"tabCover",class:"tab-cover"});n.settings.close&&t("li",c).length&&(s.title="<span>"+s.title+'</span><i class="fa fa-times"></i>');var p=t("<li>",{role:"presentation",class:"nav-item",close:!(!n.settings.close||!t("li",c).length)||null,id:"dtab_"+l,"aria-url":s.url,"aria-ajax":!!s.ajax}).append(t("<a>",{href:"#"+l,"aria-controls":l,role:"tab","data-toggle":"tab"}).html(s.title));o=t("<div>",{class:n.settings.paneClass,id:l,height:t(window).height()-n.settings.offset-5,role:"tabpanel"}),c.append(p),u.append(o.append(m))}d||r(s.id),n.settings.loadbar&&o.html(t("<div>",{class:""}).append(t("<div>",{class:"progress-bar progress-bar-striped progress-bar-success active",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:"width:100%"}).append('<span class="sr-only">100% Complete</span>').append("<span>"+n.settings.local.loadbar+"</span>")));var g=-1==s.url.indexOf(n.settings.symbol+"=html")?s.url+(s.url.indexOf("?")>-1?"&":"?")+n.settings.symbol+"=html":s.url;if(s.content)o.html(s.content);else if(1!=n.settings.iframe||"false"!=s.ajax&&s.ajax){var v=t.extend(n.settings.ajax,s.ajax||{});v.url=s.url,v.error=function(t,e){o.html(t.responseText)},v.success=function(t){o.html(t)},t.ajax(v)}else t("#dtab_"+l).attr("aria-url")!=s.title&&t("#dtab_"+l).attr("aria-url",s.url),o.html(t("<iframe>",{width:"100%",height:"100%",border:"0",url:g,src:d?null:g}));return d&&!s.active||(c.find("#dtab_"+l).addClass("active"),u.find("#"+l).addClass("active"),u.find("#"+l).find("#tabCover").remove()),s},n.clear=function(t){n.settings.store&&window.localStorage&&localStorage.removeItem(n.settings.storeName),t&&(location.href=t)},n.close=function(e){if(!n.settings.close||t("#dtab_"+e.id).attr("close")){t("#dtab_"+e.id).hasClass("active")&&(t("#dtab_"+e.id).parents("li.tabdrop").length>0&&!t("#dtab_"+e.id).parents("li.tabdrop").hasClass("hide")?t("#dtab_"+e.id).parents(".nav-tabs").find("li").last().tab("show"):t("#dtab_"+e.id).prev("li").tab("show"),t("#"+e.id).prev().addClass("active")),t("#dtab_"+e.id).remove(),t("#"+e.id).remove();var s,a=t(n.settings.render).find(".active");if(a&&a.attr("id")&&(s=a.attr("id").substring("dtab_".length)),r(s),n.settings.store){var o=t.parseJSON(i(n.settings.storeName));delete o[e.id],s&&o["dtab_"+s]&&(o["dtab_"+s].active=!0),o=JSON.stringify(o),i(n.settings.storeName,o)}n.drop(),n.settings.callback()}},n.drop=function(){n.settings=t.extend(n.settings,n.settings.resize({width:t(window).width(),height:t(window).height(),settings:n.settings})),t(n.settings.render).children('[role="tabpanel"]').height(t(window).height()-n.settings.offset-5);var e=t("<li>",{class:"dropdown d-none tabdrop"}).append(t("<a>",{class:"dropdown-toggle","data-toggle":"dropdown",href:"javascript:"}).append(t("<i>",{class:"fa fa-align-justify"}))).append(t("<ul>",{class:"dropdown-menu"}));t("body").find(n.settings.target).each(function(){var i=t(this);i.find(".tabdrop").length<1?e.prependTo(i):e=i.find(".tabdrop"),i.parent().is(".tabs-below")&&e.addClass("dropup");var s=0,a=t(this).append(e.find("li")).find(">li").not(".tabdrop"),o=0,l=i.parent().width()-n.settings.drop,r=l-65,c=0;a.each(function(){o+=t(this).outerWidth(!0)}),l<o&&a.each(function(){(c+=t(this).outerWidth(!0))>r&&(e.find("ul").append(t(this)),s++)}),s?(e.removeClass("d-none"),e.find(".active").length?e.addClass("active"):e.removeClass("active")):e.addClass("d-none"),t(e).on("hidden.bs.dropdown",function(){t("#"+n.settings.contextmenu).remove()})}),l()},t.extend({bootstrapTabs:n})}(jQuery),function(t,e,n,i){var s="DemonDualListbox",a=/android/i.test(navigator.userAgent.toLowerCase());t.extend(_defineProperty({},s,{settings:{bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",itemUpLabel:"Move up",itemDownLabel:"Move down",moveOnSelect:!1,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:!1,height:300,filter:!0,nonSelectedFilter:"",selectedFilter:"",filterOnValues:!1,doubleMove:!1,disabled:!1}}));var o=function(e,n){this.element=t(e),this.settings=t.extend({},t[s].settings,n),this.sort=[],this._defaults=t[s].settings,this._name=s,this.init()},l=function(t){t.element.trigger("change")},r=function(e){e.element.find("option").each(function(n,i){var s=t(i);void 0===s.data("original-index")&&s.data("original-index",e.elementCount++),void 0===s.data("_selected")&&s.data("_selected",!1)})},c=function(e,n,i){e.element.find("option").each(function(e,s){var a=t(s);a.data("original-index")===n&&a.prop("selected",i)})},d=function(t,e){return t.replace(/\{(\d+)\}/g,function(t,n){return void 0!==e[n]?e[n]:t})},f=function(t){if(t.settings.infoText){var e=t.elements.select1.find("option").length,n=t.elements.select2.find("option").length,i=t.element.find("option").length-t.selectedElements,s=t.selectedElements;0===i?t.settings.infoTextEmpty:e===i?d(t.settings.infoText,[e,i]):d(t.settings.infoTextFiltered,[e,i]),t.elements.box1.toggleClass("filtered",!(e===i||0===i)),0===s?t.settings.infoTextEmpty:n===s?d(t.settings.infoText,[n,s]):d(t.settings.infoTextFiltered,[n,s]),t.elements.box2.toggleClass("filtered",!(n===s||0===s))}},h=function(e){e.selectedElements=0,e.elements.select1.empty(),e.elements.select2.empty(),e.element.find("option").each(function(n,i){var s=t(i);s.prop("selected")?(e.selectedElements++,e.elements.select2.append(s.clone(!0).prop("selected",s.data("_selected")))):e.elements.select1.append(s.clone(!0).prop("selected",s.data("_selected")))}),e.settings.filter&&(u(e,1),u(e,2)),f(e)},u=function(e,n){if(e.settings.filter){m(e,n),e.elements["select"+n].empty().scrollTop(0);var i=new RegExp(t.trim(e.elements["filterInput"+n].val()),"gi"),s=e.element;s=1===n?s.find("option").not(":selected"):s.find("option:selected"),s.each(function(s,a){var o=t(a),l=!0;(a.text.match(i)||e.settings.filterOnValues&&o.attr("value").match(i))&&(l=!1,e.elements["select"+n].append(o.clone(!0).prop("selected",o.data("_selected")))),e.element.find("option").eq(o.data("original-index")).data("filtered"+n,l)}),f(e)}},m=function(e,n){e.elements["select"+n].find("option").each(function(n,i){var s=t(i);e.element.find("option").eq(s.data("original-index")).data("_selected",s.prop("selected"))})},p=function(e,n){n.find("option").sort(function(n,i){var s=t(n).data("original-index"),a=t(i).data("original-index"),o=e.sort.indexOf(s)-e.sort.indexOf(a);return o||(s>a?1:-1)}).appendTo(n)},g=function(t){t.elements.select1.find("option").each(function(){t.element.find("option").data("_selected",!1)})},v=function(e){e.sort=[],e.elements.select2.find("option").each(function(n,i){var s=t(i);e.sort.push(s.data("original-index"))})},b=function(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||m(e,1):(m(e,1),m(e,2)),e.elements.select1.find("option:selected").each(function(n,i){var s=t(i);s.data("filtered1")||c(e,s.data("original-index"),!0),e.sort.push(s.data("original-index"))}),h(e),l(e),p(e,e.elements.select2)},x=function(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||m(e,2):(m(e,1),m(e,2)),e.elements.select2.find("option:selected").each(function(n,i){var s=t(i);s.data("filtered2")||c(e,s.data("original-index"),!1)}),h(e),l(e),v(e),p(e,e.elements.select2)},y=function(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||m(e,1):(m(e,1),m(e,2)),e.element.find("option").each(function(e,n){var i=t(n);i.data("filtered1")||i.prop("selected",!0)}),h(e),l(e),v(e)},C=function(e){"all"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect?"moved"!==e.settings.preserveSelectionOnMove||e.settings.moveOnSelect||m(e,2):(m(e,1),m(e,2)),e.element.find("option").each(function(e,n){var i=t(n);i.data("filtered2")||i.prop("selected",!1)}),h(e),l(e),v(e)},w=function(e){e.elements.select2.find("option:selected").each(function(e,n){var i=t(n),s=i.prev();i.insertBefore(s)}),v(e)},S=function(e){e.elements.select2.find("option:selected").each(function(e,n){var i=t(n),s=i.next();i.insertAfter(s)}),v(e)},L=function(e){t(e.elements.originalSelect).on("sort",function(n,i){e.sort=[],t.each(i.list,function(n,i){e.elements.select2.find("option").each(function(n,s){var a=t(s);if(a.attr("value")==i)return e.sort.push(a.data("original-index")),!0})}),p(e,e.elements.select2)}),e.elements.form.submit(function(t){e.elements.filterInput1.is(":focus")?(t.preventDefault(),e.elements.filterInput1.focusout()):e.elements.filterInput2.is(":focus")&&(t.preventDefault(),e.elements.filterInput2.focusout())}),e.element.on("DemonDualListbox.refresh",function(t,n){e.refresh(n)}),e.elements.filterClear1.on("click",function(){e.setNonSelectedFilter("",!0)}),e.elements.filterClear2.on("click",function(){e.setSelectedFilter("",!0)}),e.elements.moveButton.on("click",function(){b(e)}),e.elements.moveAllButton.on("click",function(){y(e)}),e.elements.removeButton.on("click",function(){x(e)}),e.elements.removeAllButton.on("click",function(){C(e)}),e.elements.upButton.on("click",function(){w(e)}),e.elements.downButton.on("click",function(){S(e)}),e.elements.filterInput1.on("change keyup",function(){u(e,1)}),e.elements.filterInput2.on("change keyup",function(){u(e,2)}),e.elements.filterInput2.on("change keyup",function(){u(e,2)})};o.prototype={init:function(){
        this.container=t('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label></label>   <span class="info-container" style="display:none">     <span class="info"></span>     <button type="button" class="btn clear1"></button>   </span>   <input class="filter form-control" type="text">   <select multiple="multiple"></select> </div> <div class="btn-box"><div class="btn-cell">     <button type="button" class="btn move">       <i></i>     </button>     <button type="button" class="btn moveall"><i></i></button><p class="btn-gap"></p><button type="button" class="btn remove"> <i></i> </button> <button type="button" class="btn removeall"><i></i></button><p class="btn-gap"></p><button type="button" class="btn itemup">      <i></i>    </button>    <button type="button" class="btn itemdown">      <i></i>    </button> </div></div> <div class="box2">   <label></label>   <span class="info-container" style="display:none">     <span class="info"></span>     <button type="button" class="btn clear2"></button>   </span>   <input class="filter form-control" type="text">   <select multiple="multiple"></select> </div></div>').insertBefore(this.element),this.elements={originalSelect:this.element,box1:t(".box1",this.container),btn:t(".btn-box",this.container),box2:t(".box2",this.container),filterInput1:t(".box1 .filter",this.container),filterInput2:t(".box2 .filter",this.container),filterClear1:t(".box1 .clear1",this.container),filterClear2:t(".box2 .clear2",this.container),label1:t(".box1 > label",this.container),label2:t(".box2 > label",this.container),info1:t(".box1 .info",this.container),info2:t(".box2 .info",this.container),select1:t(".box1 select",this.container),select2:t(".box2 select",this.container),moveButton:t(".btn-box .move",this.container),removeButton:t(".btn-box .remove",this.container),moveAllButton:t(".btn-box .moveall",this.container),removeAllButton:t(".btn-box .removeall",this.container),upButton:t(".btn-box .itemup",this.container),downButton:t(".btn-box .itemdown",this.container),form:t(t(".box1 .filter",this.container)[0].form)},this.element.attr("dualbox",!0),this.originalSelectName=this.element.attr("name")||"";var e="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,n="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",e).attr("disabled",this.settings.disabled),this.elements.select2.attr("id",n).attr("disabled",this.settings.disabled).attr("dualbox",this.originalSelectName),this.elements.label1.attr("for",e),this.elements.label2.attr("for",n),this.selectedElements=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setItemUpLabel(this.settings.itemUpLabel),this.setItemDownLabel(this.settings.itemDownLabel),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setheight(this.settings.height),this.setDoubleMove(this.settings.doubleMove),r(this),this.setfilter(this.settings.filter),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.element.hide(),L(this),h(this),this.element},setBootstrap2Compatible:function(t,e){return this.settings.bootstrap2Compatible=t,t?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-5"),this.container.find(".btn-box").removeClass("col-md-1"),this.container.find(".clear1, .clear2").removeClass("btn-default btn-xs").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default").attr("disabled",this.settings.disabled),this.container.find(".moveall > i, .move > i").removeClass("glyphicon glyphicon-arrow-right").addClass("icon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("glyphicon glyphicon-arrow-left").addClass("icon-arrow-left"),this.container.find(".itemup > i").removeClass("glyphicon glyphicon-arrow-up").addClass("icon-arrow-up"),this.container.find(".itemdown > i").removeClass("glyphicon glyphicon-arrow-down").addClass("icon-arrow-down")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").addClass("col-6"),this.container.find(".btn-box").addClass("col-1"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default btn-xs"),this.container.find("input, select").addClass("form-control"),this.container.find(".btn").addClass("btn-default").attr("disabled",this.settings.disabled),this.container.find(".move > i").removeClass("icon-arrow-right").addClass("fa fa-angle-right"),this.container.find(".moveall > i").removeClass("icon-arrow-right").addClass("fa fa-angle-double-right"),this.container.find(".remove > i").removeClass("icon-arrow-left").addClass("fa fa-angle-left"),this.container.find(".removeall > i").removeClass("icon-arrow-left").addClass("fa fa-angle-double-left"),this.container.find(".itemup > i").removeClass("icon-arrow-up").addClass("fa fa-angle-up"),this.container.find(".itemdown > i").removeClass("icon-arrow-down").addClass("fa fa-angle-down")),e&&h(this),this.element},setFilterTextClear:function(t,e){return this.settings.filterTextClear=t,this.elements.filterClear1.html(t),this.elements.filterClear2.html(t),e&&h(this),this.element},setFilterPlaceHolder:function(t,e){return this.settings.filterPlaceHolder=t,this.elements.filterInput1.attr("placeholder",t),this.elements.filterInput2.attr("placeholder",t),e&&h(this),this.element},setMoveSelectedLabel:function(t,e){return this.settings.moveSelectedLabel=t,this.elements.moveButton.attr("title",t),e&&h(this),this.element},setMoveAllLabel:function(t,e){return this.settings.moveAllLabel=t,this.elements.moveAllButton.attr("title",t),e&&h(this),this.element},setRemoveSelectedLabel:function(t,e){return this.settings.removeSelectedLabel=t,this.elements.removeButton.attr("title",t),e&&h(this),this.element},setRemoveAllLabel:function(t,e){return this.settings.removeAllLabel=t,this.elements.removeAllButton.attr("title",t),e&&h(this),this.element},setItemUpLabel:function(t,e){return this.settings.itemUpLabel=t,this.elements.upButton.attr("title",t),e&&h(this),this.element},setItemDownLabel:function(t,e){return this.settings.itemDownLabel=t,this.elements.downButton.attr("title",t),e&&h(this),this.element},setMoveOnSelect:function(t,e){if(a&&(t=!0),this.settings.moveOnSelect=t,this.settings.moveOnSelect){this.container.addClass("moveonselect");var n=this;this.elements.select1.on("change",function(){b(n)}),this.elements.select2.on("change",function(){x(n)})}else this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change");return e&&h(this),this.element},setDoubleMove:function(t,e){if(a&&(t=!1),this.settings.doubleMove=t,this.settings.doubleMove){var n=this;this.elements.select1.on("dblclick",function(){b(n)}),this.elements.select2.on("dblclick",function(){x(n)})}else this.elements.select1.off("dblclick"),this.elements.select2.off("dblclick");return e&&h(this),this.element},setPreserveSelectionOnMove:function(t,e){return a&&(t=!1),this.settings.preserveSelectionOnMove=t,e&&h(this),this.element},setSelectedListLabel:function(t,e){return this.settings.selectedListLabel=t,t?this.elements.label2.show().html(t):this.elements.label2.hide().html(t),e&&h(this),this.element},setNonSelectedListLabel:function(t,e){return this.settings.nonSelectedListLabel=t,t?this.elements.label1.show().html(t):this.elements.label1.hide().html(t),e&&h(this),this.element},setHelperSelectNamePostfix:function(t,e){return this.settings.helperSelectNamePostfix=t,t?(this.elements.select1.attr("name",this.originalSelectName+t+"1"),this.elements.select2.attr("name",this.originalSelectName+t+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),e&&h(this),this.element},setheight:function(t,e){this.settings.height=t;var n=this.element.height();return this.element.height()<t&&(n=t),this.elements.select1.height(n),this.elements.select2.height(n),this.elements.btn.height(this.elements.box1.height()),e&&h(this),this.element},setfilter:function(t,e){return t?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),h(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.filter=t,e&&h(this),this.element},setNonSelectedFilter:function(t,e){if(this.settings.filter)return this.settings.nonSelectedFilter=t,this.elements.filterInput1.val(t),e&&h(this),this.element},setSelectedFilter:function(t,e){if(this.settings.filter)return this.settings.selectedFilter=t,this.elements.filterInput2.val(t),e&&h(this),this.element},setInfoText:function(t,e){return this.settings.infoText=t,e&&h(this),this.element},setInfoTextFiltered:function(t,e){return this.settings.infoTextFiltered=t,e&&h(this),this.element},setInfoTextEmpty:function(t,e){return this.settings.infoTextEmpty=t,e&&h(this),this.element},setFilterOnValues:function(t,e){return this.settings.filterOnValues=t,e&&h(this),this.element},getContainer:function(){return this.container},refresh:function(t){r(this),t?g(this):(m(this,1),m(this,2)),h(this)},destroy:function(){return this.container.remove(),this.element.show(),t.data(this,"plugin_"+s,null),this.element}},t.fn[s]=function(e){var n=arguments;if(void 0===e||"object"===(void 0===e?"undefined":_typeof(e)))return this.each(function(){t(this).is("select")?t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,e)):t(this).find("select").each(function(n,i){t(i).DemonDualListbox(e)})});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var i;return this.each(function(){var a=t.data(this,"plugin_"+s);a instanceof o&&"function"==typeof a[e]&&(i=a[e].apply(a,Array.prototype.slice.call(n,1)))}),void 0!==i?i:this}},t.fn.dualbox=function(e){e=e||{};var n=this.DemonDualListbox(e),i="";return n.selectElement=function(){if(null!=e.nonSelectedList)for(var t in e.nonSelectedList)e.nonSelectedList.hasOwnProperty(t)&&(i+="<option value='"+e.nonSelectedList[t][e.optionValue]+"'>"+e.nonSelectedList[t][e.optionText]+"</option>");if(null!=e.selectedList)for(var t in e.selectedList)e.selectedList.hasOwnProperty(t)&&(i+="<option value='"+e.selectedList[t][e.optionValue]+"' selected>"+e.selectedList[t][e.optionText]+"</option>");n.append(i),n.DemonDualListbox("refresh")},n.getSelectedOptions=function(){return t("#bootstrap-duallistbox-selected-list_doublebox>option").map(function(){return t(this).val()}).get().join(",")},n.selectElement(),n}}(jQuery,window,document);
function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function($){if($(".dataTables_wrapper").on("submit,reset","form",function(){if(void 0==$(this).attr("action"))return!1}),$.fn.serializeObject=function(){var e={},t=this.serializeArray(),a=$("input[type=checkbox]:not(:checked)",this);$.each(a,function(){t.push({name:this.name,value:""})});var n=$("input[type=radio]:not(:checked)",this);$.each(n,function(){$("input[type=radio][name="+this.name+"]:checked").val()||t.push({name:this.name,value:""})});var o=$("select[multiple]",this);$.each(o,function(){var e=$(this).val();e.length?1==e.length&&$.each(t,function(e,t){t.name==this.name&&(t.value=[t.value])}.bind(this)):t.push({name:this.name,value:[]})});var i=$("select[dualbox=true]",this);return $.each(i,function(){var e=$(this).attr("name");for(var a in t)t[a].name==e&&delete t[a];var n=[];$('[dualbox="'+$(this).attr("name")+'"]').find("option").each(function(){n.push($(this).attr("value"))}),t.push({name:this.name,value:n})}),$(t).each(function(t,a){if(!a||!a.name)return!0;e[this.name]?$.isArray(e[this.name])?e[this.name].push(this.value):e[this.name]=[e[this.name],this.value]:e[this.name]=this.value}),$.each(e,function(t,a){var n=t,o=!1;if(/\[\]$/i.test(t)&&(o=!0,n=t.replace(/\[\]$/i,"")),$.isArray(a)){var i=[];$.each(a,function(e,t){""!==t&&i.push(t)}),e[n]=i}o&&(delete e[t],e[n]=e[n]||[])}),e},void 0!==$.fn.bootstrapTable){var BootstrapTable=$.fn.bootstrapTable.Constructor,_initHeader=BootstrapTable.prototype.initHeader,_initToolbar=BootstrapTable.prototype.initToolbar,_load=BootstrapTable.prototype.load,_initSearch=BootstrapTable.prototype.initSearch;BootstrapTable.prototype.initToolbar=function(){var self=this;_initToolbar.apply(self,Array.prototype.slice.apply(arguments));var sprintf=$.fn.bootstrapTable.utils.sprintf,value=function(e){var t={};return $.each($(e).serializeArray(),function(){t[this.name]?$.isArray(t[this.name])?t[this.name].push(this.value):t[this.name]=[t[this.name],this.value]:t[this.name]=this.value}),t},search=function(){return value("#"+self.options.searchForm)},url=function(e,t){return e+(-1===e.search(/\?/)?"?":"&")+decodeURIComponent($.param(t))};if(self.options.searchPanel){var html=sprintf('<div class="columns columns-%s float-%s">',self.options.buttonsAlign,self.options.buttonsAlign);html+=sprintf('<button class="btn btn-%s" type="button" name="%s" title="%s">',self.options.buttonsClass,self.options.searchTemplate,self.options.formatAdvancedSearch()),html+=sprintf('<i class="%s %s"></i>',self.options.iconsPrefix,self.options.icons.search),html+="</button></div>",self.$toolbar.find(".float-right").length>0?$(html).insertBefore(self.$toolbar.find(".float-right:first")):self.$toolbar.append(html);var formId="#"+self.options.searchForm,template=$("#"+self.options.searchTemplate).prop("outerHTML");$("#"+self.options.searchTemplate).remove(),self.$toolbar.before(template),setTimeout(function(){$("body").on("click",'[name="'+self.options.searchTemplate+'"]',function(){$("#"+self.options.searchTemplate).toggleClass("d-block")})}),self.options.searchPanelOpen&&$("#"+self.options.searchTemplate).addClass("d-block"),$("#"+self.options.searchTemplate+'_button button[type="submit"]').html(self.options.searchSubmitText||"Submit"),$("#"+self.options.searchTemplate+'_button button[type="reset"]').html(self.options.searchResetText||"Reset"),$(formId).trigger("search:created",[{$elem:$(formId),table:self}]),setTimeout(function(){$(formId+" [data-time]").each(function(){$.admin.date(formId+' [name="'+$(this).attr("name")+'"]',{format:$(this).data("time")})}),$(formId+" [data-select]").each(function(){$.admin.select(formId+' [name="'+$(this).attr("name")+'"]',{dropdownAutoWidth:!0,width:"100%"})}),$.each(eval(self.options.namespace).linkage||{},function(e,t){$.admin.linkage(t.selector,t)})}),$("body").on("submit",formId,function(){$(formId).trigger("search:submit",[{$elem:$(formId),table:self}]),self.refresh({pageNumber:1})}),self.options.queryParams=function(e){var t=search();for(var a in t)t.hasOwnProperty(a)&&""===t[a]&&delete t[a];return e[self.options.searchList]=t,e}}eval(self.options.namespace).onLoadData=function(e,t){},$("body").on("load-success.bs.table",function(e,data){eval(self.options.namespace).onLoadData(data,self)}),eval(self.options.namespace).onPreBody=function(e,t){},$("body").on("pre-body.bs.table",function(e,data){eval(self.options.namespace).onPreBody(data,self)}),eval(self.options.namespace).onPostBody=function(e,t){},$("body").on("post-body.bs.table",function(e,data){$("#"+self.options.id+' [data-toggle="tooltip"],'+self.options.toolbar+' [data-toggle="tooltip"]').tooltip({trigger:"hover"}),$.admin.switch("#"+self.options.id+' [data-bind="switch"]'),$("#"+self.options.id+' [data-bind="image"]').on("click",function(){var e=$(this).attr("name")||"";$.admin.layer.photos({anim:5,photos:{title:e,data:[{alt:e,pid:0,src:$(this).attr("src")}]}})}),$.admin.clipboard(".clipboard").on("success",function(){$.admin.layer.msg(self.options.clipboardSuccessTips||"Copy success!",{icon:6,time:2e3})}).on("error",function(){$.admin.layer.msg(self.options.clipboardErrorTips||"Copy error!",{icon:5,time:2e3})}),eval(self.options.namespace).onPostBody(data,self)}),eval(self.options.namespace).onEvent=function(e,t,a){},$("body").on("all.bs.table",function(e,name,args){eval(self.options.namespace).onEvent(name,self,args)}),$("body").off("click").on("click",self.options.toolbar+" [data-button-key]",function(){$(this).trigger("toolbar:"+self.options.actionEvent,[{$elem:$(this),table:self,action:$(this).data("button-key")}])}),eval(self.options.namespace+"."+self.options.actionEvent)&&(eval(self.options.namespace+"."+self.options.actionEvent)["click [action]"]=function(e,t,a,n){var o=e.target;$(e.target).attr("action")||(o=$(e.target).closest("[action]")),o=$(o);var i={};"switch"==o.data("bind")&&(i.switch=o.is(":checked")),o.trigger("row:"+self.options.actionEvent,[$.extend({$elem:o,table:self,action:o.attr("action"),row:a,index:n},i)])}),eval(self.options.namespace).getBatch=function(e){var t=$("#"+self.options.id).bootstrapTable("getSelections");if(e){var a=[];return self.options.uniqueId&&$.each(t,function(e,t){a.push(t[self.options.uniqueId])}),a}return t},eval(self.options.namespace).getUrl=function(){var action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"null",parm=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return self.refresh({silent:!0,query:Object.assign(_defineProperty({ignore:!0},self.options.actionName,action),parm)}),eval(self.options.namespace).builder[0].url},eval(self.options.namespace).getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";if(null===e)return $("#"+self.options.id).bootstrapTable("getData",{includeHiddenRows:!0});if(self.options.uniqueId){if("key"==t)var a=$("#"+self.options.id).bootstrapTable("getRowByUniqueId",e),n=$("#"+self.options.id).find('tr[data-uniqueid="'+e+'"]').data("index");else var a=$("#"+self.options.id).bootstrapTable("getRowByUniqueId",$("#"+self.options.id).find('tr[data-index="'+e+'"]').data("uniqueid")),n=e;return{row:a,index:n}}return null},eval(self.options.namespace).ajax=function(data){var parm=JSON.parse(data.data);if(parm=$.extend(parm,self.options.presetParams),parm.search&&(parm.search=$("#"+self.options.id).closest(".bootstrap-table").find('input[type="search"]').val()),parm.searchText&&(parm.searchText=$("#"+self.options.id).closest(".bootstrap-table").find('input[type="search"]').val()),!parm.ignore)return parm.method="GET",data.data=JSON.stringify(parm),$.ajax(data);eval(self.options.namespace).builder[0].url=url(data.url,parm)},eval(self.options.namespace).report=function(data,message,index){if(!0===data)return void 0!==index&&null!==index&&$.admin.layer.close(index),message&&$.admin.alert.success(message),eval(self.options.namespace).method("refresh"),!0;$.admin.api.success(data,function(){void 0!==index&&null!==index&&$.admin.layer.close(index),message&&$.admin.alert.success(message),eval(self.options.namespace).method("refresh")})},eval(self.options.namespace).layer=function(e,t,a){a=a||{};var n=a.full||!1;delete a.full;var o=a.success||function(){};return a.success=function(e,t){n&&$.admin.layer.full(t),o&&o(e,t)},$.admin.api.open(e,t,a,function(e){$.admin.layer.close(e)})},eval(self.options.namespace).form=function(title,url,options){options=options||{};var full=options.full||!1;delete options.full;var success=options.success||function(){};return options.success=function(e,t){full&&$.admin.layer.full(t),success&&success(e,t)},$.admin.api.open(title,url,options,function(e,t){t.iframe.$("form").submit()},function(index,report){if(report.status)return options.report=options.report||function(){},"string"==typeof options.report?eval(self.options.namespace).report(!0,options.report,index):"function"==typeof options.report?options.report(report,index):(void 0!==index&&null!==index&&$.admin.layer.close(index),!0);$.admin.api.fail(report.xhr)})}}}HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,a){var n=this;setTimeout(function(){for(var o=atob(n.toDataURL(t,a).split(",")[1]),i=o.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=o.charCodeAt(s);e(new Blob([r],{type:t||"image/png"}))})}}),"undefined"!=typeof layer&&(layer.avatar=function(e,t,a){e=e||[];var n=e.ready||function(){};e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTAyNCA1MTJDMTAyNCAyMzAuNCA3OTMuNiAwIDUxMiAwUzAgMjMwLjQgMCA1MTJzMjMwLjQgNTEyIDUxMiA1MTIgNTEyLTIzMC40IDUxMi01MTJ6TTUxMiA5NjBDMjYyLjQgOTYwIDY0IDc2MS42IDY0IDUxMlMyNjIuNCA2NCA1MTIgNjRzNDQ4IDE5OC40IDQ0OCA0NDgtMTk4LjQgNDQ4LTQ0OCA0NDh6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48cGF0aCBkPSJNNjI3LjIgNTA1LjZDNjcyIDQ2Ny4yIDcwNCA0MTYgNzA0IDM1MmMwLTEwOC44LTgzLjItMTkyLTE5Mi0xOTJzLTE5MiA4My4yLTE5MiAxOTJjMCA2NCAzMiAxMTUuMiA3Ni44IDE1My42QzI5NC40IDU1MC40IDIyNCA2NTIuOCAyMjQgNzY4YzAgMTkuMiAxMi44IDMyIDMyIDMyczMyLTEyLjggMzItMzJjMC0xMjEuNiAxMDIuNC0yMjQgMjI0LTIyNHMyMjQgMTAyLjQgMjI0IDIyNGMwIDE5LjIgMTIuOCAzMiAzMiAzMnMzMi0xMi44IDMyLTMyYzAtMTE1LjItNzAuNC0yMTcuNi0xNzIuOC0yNjIuNHpNNTEyIDQ4MGMtNzAuNCAwLTEyOC01Ny42LTEyOC0xMjhzNTcuNi0xMjggMTI4LTEyOCAxMjggNTcuNiAxMjggMTI4LTU3LjYgMTI4LTEyOCAxMjh6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||e.placeholder,e.lock=e.lock||!1;var o,i="cropper-avatar-"+(new Date).getTime()+parseInt(1e5*Math.random())+1,r='<div class="alert alert-danger" style="position:absolute;z-index:1;right:10px;display:none" role="alert"></div><div class="row cropper-avatar" id="'+i+'"><div class="col-sm-9 cropper-left"><div class="cropper-box"><img class="cropper"><div class="mt-2 cropper-tool"><button type="button" class="btn btn-sm btn-secondary" data-action="file"><i class="mb-0 fa fa-image"></i></button>\n<input type="file" style="display:none" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"><button type="button" class="btn btn-sm btn-secondary" data-action="reset"><i class="mb-0 fa fa-sync"></i></button>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="zoom+"><i class="mb-0 fa fa-search-plus"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="zoom-"><i class="mb-0 fa fa-search-minus"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_left"><i class="mb-0 fa fa-undo"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_right"><i class="mb-0 fa fa-redo"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="move_up"><i class="mb-0 fa fa-arrow-up"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_down"><i class="mb-0 fa fa-arrow-down"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_left"><i class="mb-0 fa fa-arrow-left"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_right"><i class="mb-0 fa fa-arrow-right"></i></button></div>\n</div></div></div><div class="col cropper-right pl-sm-2"><div class="row no-gutters"><div class="cropper-preview"></div><div class="cropper-preview rounded ml-3 ml-sm-0 mt-sm-2"></div><div class="cropper-preview rounded-circle ml-3 ml-sm-0 mt-sm-2"></div></div></div></div>',s=function(){o.html($.bootstrapModaler.options.lang.imageNone||"Image None").show().fadeOut(2e3)},l=e.image!=e.placeholder?e.image:"";e=$.extend({viewMode:1,toggleDragModeOnDblclick:!1,aspectRatio:1,autoCropArea:1},e,{preview:"#"+i+" .cropper-preview",ready:function(t){n(t);var a=c.cropper,o=$("#"+i),r=o.find('input[type="file"]'),s=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};o.off("click").on("click","button",function(){switch($(this).data("action")){case"file":r.trigger("click").on("change",function(){var t=$(this).prop("files");if("object"==(void 0===t?"undefined":_typeof(t))&&t.length>0){var n=t[0];s(n)&&(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(n),a.replace(this.url),e.image=this.url,l=n.name)}});break;case"reset":a.reset();break;case"zoom+":a.zoom(.25);break;case"zoom-":a.zoom(-.25);break;case"rotate_left":a.rotate(-18);break;case"rotate_right":a.rotate(18);break;case"move_up":a.move(0,5);break;case"move_down":a.move(0,-5);break;case"move_left":a.move(-5,0);break;case"move_right":a.move(5,0)}})}});var c;"function"==typeof(t=t||{})&&(a=t);var u=t.success||function(){},d=window.innerWidth<600;return t=$.extend({type:1,area:[d?"100%":"600px",d?"100%":"auto"],title:"avatar",btn:["ok","cancel"]},t,{success:function(a,n){var r=a.outerHeight(),d=parseFloat(a.css("top"));a.addClass("layui-layer-dialog").removeClass("layui-layer-page"),t.offset&&"auto"==t.offset||a.css("top",d+(r-a.outerHeight())/2),$(".layui-layer-content",a).height("auto"),e.lock&&a.find('[data-action="file"]').remove(),o=a.find(".alert");var M=function(){$("img.cropper",a).attr("src",e.image),u(a,n),c=a,c.cropper=new Cropper($("#"+i+" .cropper")[0],e),c.cropper.selectImage=function(){$("#"+i).find('input[type="file"]').trigger("click")}},p=new Image;p.src=e.image,p.onerror=function(){e.image=e.placeholder,l="",s(),M()},p.onload=function(){M()}},yes:function(t,n){return e.image==e.placeholder?s():(n.cropper.name=l,"function"==typeof a?a(t,n):void 0)}}),layer.confirm(r,t)},layer.cropper=function(e,t,a){e=e||[];var n=e.ready||function(){};e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEyNjIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTE3MS42ODY0IDBDMTIyMi4wMzMwNjcgMCAxMjYyLjk5MzA2NyAzOS43MzEyIDEyNjIuOTkzMDY3IDg4LjU0MTg2N3Y4NDYuOTE2MjY2QzEyNjIuOTkzMDY3IDk4NC4yNjg4IDEyMjIuMDMzMDY3IDEwMjQgMTE3MS42ODY0IDEwMjRIOTEuMzY2NGMtNy45MTg5MzMgMC0xNS41OTg5MzMtMC45ODk4NjctMjIuOTAzNDY3LTIuODMzMDY3QTgzLjkzMzg2NyA4My45MzM4NjcgMCAwIDEgMC4wNTk3MzMgOTM1LjQ1ODEzM1Y4OC41NDE4NjdDMC4wNTk3MzMgMzkuNzMxMiA0MS4wMTk3MzMgMCA5MS4zNjY0IDBoMTA4MC4zMnogbS01NC4yNzIgMTEzLjIyMDI2N0gxNDIuMDIwMjY3Yy0xNS45NDAyNjcgMC0yOC45NDUwNjcgMTIuMjg4LTI4Ljk0NTA2NyAyNy4yNzI1MzNsLTAuMDM0MTMzIDY0NC40MzczMzMgMjI0LjMyNDI2Ni0yNDUuMDc3MzMzYzMzLjk5NjgtMzcuMTM3MDY3IDkzLjU1OTQ2Ny0zNy4xMzcwNjcgMTI3LjY1ODY2NyAwbDIyNy44MDU4NjcgMjQ4LjU5MzA2NyAyMDMuNzQxODY2LTI1MS42OTkyYzI2LjcyNjQtMzMuMDA2OTMzIDczLjU5MTQ2Ny0zMy4wMDY5MzMgMTAwLjMxNzg2NyAwbDE0OS40Njk4NjcgMTg0LjU1ODkzM1YxNDAuNDkyOGMwLTE1LjAxODY2Ny0xMy4wMDQ4LTI3LjI3MjUzMy0yOC45NDUwNjctMjcuMjcyNTMzeiBtLTM1Ni42OTMzMzMgNzYuNDkyOGExNDQuNjU3MDY3IDE0NC42NTcwNjcgMCAwIDEgMTQzLjQ5NjUzMyAwIDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjcgMTIzLjE4NzIgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2NyAxMjMuMTUzMDY2IDE0NC42NTcwNjcgMTQ0LjY1NzA2NyAwIDAgMS0xNDMuNTMwNjY3IDAgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2Ni0xMjMuMTUzMDY2IDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjYtMTIzLjE4NzJ6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||e.placeholder,e.lock=void 0===e.lock||e.lock,e.base64=e.base64||!1,e.aspectRatio=e.aspectRatio||null,"number"!=typeof e.aspectRatio&&delete e.aspectRatio;var o="cropper-image-"+(new Date).getTime()+parseInt(1e5*Math.random())+1,i='<div class="cropper-image" id="'+o+'"><div class="cropper-box"><img class="cropper"><div class="mt-2 cropper-tool"><button type="button" class="btn btn-sm btn-secondary" data-action="file"><i class="mb-0 fa fa-image"></i></button>\n<input type="file" style="display:none" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"><button type="button" class="btn btn-sm btn-secondary" data-action="reset"><i class="mb-0 fa fa-sync"></i></button>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="zoom+"><i class="mb-0 fa fa-search-plus"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="zoom-"><i class="mb-0 fa fa-search-minus"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_left"><i class="mb-0 fa fa-undo"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_right"><i class="mb-0 fa fa-redo"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="move_up"><i class="mb-0 fa fa-arrow-up"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_down"><i class="mb-0 fa fa-arrow-down"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_left"><i class="mb-0 fa fa-arrow-left"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_right"><i class="mb-0 fa fa-arrow-right"></i></button></div>\n</div></div></div>',r=e.image!=e.placeholder?e.image:"";e=$.extend({toggleDragModeOnDblclick:!1,autoCropArea:1},e,{ready:function(t){n(t);var a=s.cropper,i=$("#"+o),l=i.find('input[type="file"]'),c=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};i.off("click").on("click","button",function(){switch($(this).data("action")){case"file":l.trigger("click").on("change",function(){var t=$(this).prop("files");if("object"==(void 0===t?"undefined":_typeof(t))&&t.length>0){var n=t[0];c(n)&&(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(n),a.replace(this.url),e.image=this.url,r=n.name)}});break;case"reset":a.reset();break;case"zoom+":a.zoom(.25);break;case"zoom-":a.zoom(-.25);break;case"rotate_left":a.rotate(-18);break;case"rotate_right":a.rotate(18);break;case"move_up":a.move(0,5);break;case"move_down":a.move(0,-5);break;case"move_left":a.move(-5,0);break;case"move_right":a.move(5,0)}})}});var s=null;"function"==typeof(t=t||{})&&(a=t);var l=t.success||function(){},c=window.innerWidth<600;return t=$.extend({type:1,area:[c?"100%":"500px",c?"100%":"500px"],title:"cropper",btn:["ok","cancel"]},t,{success:function(a,n){var i=a.outerHeight(),c=parseFloat(a.css("top"));a.addClass("layui-layer-dialog").removeClass("layui-layer-page"),t.offset&&"auto"==t.offset||a.css("top",c+(i-a.outerHeight())/2),e.lock&&a.find('[data-action="file"]').remove();var u=function(){$("img.cropper",a).attr("src",e.image),l(a,n),s=a,s.cropper=new Cropper($("#"+o+" .cropper")[0],e),s.cropper.selectImage=function(){$("#"+o).find('input[type="file"]').trigger("click")}},d=new Image;d.src=e.image,d.onerror=function(){e.image=e.placeholder,r="",u()},d.onload=function(){u()}},yes:function(t,n){return e.image==e.placeholder?error():(n.cropper.name=r,"function"==typeof a?a(t,n):void 0)}}),layer.confirm(i,t)},layer.image=function(e,t,a){e=e||[],e.loading=e.loading||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNNDg3LjM2MTMwNSAxOTMuNzU2ODYzaC00Ni4xODAzOTJ2MzU2LjM5MjE1N2wzMzEuMjk0MTE4IDE2OC42NTg4MjMgMjEuMDgyMzUzLTQxLjE2MDc4NC0zMDcuMi0xNTUuNjA3ODQzdi0zMjguMjgyMzUzeiBtNDQyLjcyOTQxMiAxMjcuNDk4MDM5bDQyLjE2NDcwNi0xOC4wNzA1ODhjLTQuMDE1Njg2LTkuMDM1Mjk0LTguMDMxMzczLTE4LjA3MDU4OC0xMy4wNTA5ODEtMjcuMTA1ODgzbC00MS4xNjA3ODQgMjAuMDc4NDMyYzQuMDE1Njg2IDkuMDM1Mjk0IDguMDMxMzczIDE3LjA2NjY2NyAxMi4wNDcwNTkgMjUuMDk4MDM5eiBtMzcuMTQ1MDk4IDE0OS41ODQzMTRsNDYuMTgwMzkyLTMuMDExNzY1Yy0xLjAwMzkyMi0xMC4wMzkyMTYtMi4wMDc4NDMtMjEuMDgyMzUzLTMuMDExNzY1LTMxLjEyMTU2OWwtNDUuMTc2NDcgNi4wMjM1M2MxLjAwMzkyMiAxMC4wMzkyMTYgMi4wMDc4NDMgMTkuMDc0NTEgMi4wMDc4NDMgMjguMTA5ODA0eiBtLTExMS40MzUyOTQtMzMwLjI5MDE5NmwtMzEuMTIxNTY5IDM0LjEzMzMzM2M2LjAyMzUyOSA2LjAyMzUyOSAxMy4wNTA5OCAxMi4wNDcwNTkgMTkuMDc0NTEgMTkuMDc0NTFsMzQuMTMzMzMzLTMxLjEyMTU2OWMtNi4wMjM1MjktOC4wMzEzNzMtMTMuMDUwOTgtMTUuMDU4ODI0LTIyLjA4NjI3NC0yMi4wODYyNzR6IG05Ni4zNzY0NyA0ODQuODk0MTE3bDQ0LjE3MjU0OSAxNC4wNTQ5MDJjMy4wMTE3NjUtMTAuMDM5MjE2IDYuMDIzNTI5LTIwLjA3ODQzMSA3LjAyNzQ1MS0zMS4xMjE1NjhsLTQ1LjE3NjQ3LTkuMDM1Mjk1Yy0yLjAwNzg0MyA5LjAzNTI5NC00LjAxNTY4NiAxOC4wNzA1ODgtNi4wMjM1MyAyNi4xMDE5NjF6IG0tMzYwLjQwNzg0My02MjEuNDI3NDUxYy0xMC4wMzkyMTYtMS4wMDM5MjItMjAuMDc4NDMxLTIuMDA3ODQzLTI5LjExMzcyNS0zLjAxMTc2NGgtMS4wMDM5MjJsLTQuMDE1Njg2IDQ1LjE3NjQ3aDEuMDAzOTIxYzkuMDM1Mjk0IDEuMDAzOTIyIDE4LjA3MDU4OCAyLjAwNzg0MyAyNy4xMDU4ODMgMi4wMDc4NDMgMCAxLjAwMzkyMiA2LjAyMzUyOS00NC4xNzI1NDkgNi4wMjM1MjktNDQuMTcyNTQ5eiBtMTQ5LjU4NDMxNCA1Ny4yMjM1M2MtOS4wMzUyOTQtNC4wMTU2ODYtMTguMDcwNTg4LTkuMDM1Mjk0LTI3LjEwNTg4Mi0xMi4wNDcwNTlsLTEuMDAzOTIyLTEuMDAzOTIyLTE4LjA3MDU4OCA0Mi4xNjQ3MDYgMS4wMDM5MjEgMS4wMDM5MjJjOS4wMzUyOTQgMy4wMTE3NjUgMTcuMDY2NjY3IDcuMDI3NDUxIDI1LjA5ODA0IDExLjA0MzEzN2wyMC4wNzg0MzEtNDEuMTYwNzg0eiBtMTYyLjYzNTI5NCA2NzguNjUwOThjLTMuMDExNzY1IDMuMDExNzY1LTEuMDAzOTIyIDIuMDA3ODQzLTIuMDA3ODQzIDQuMDE1Njg2bC0xLjAwMzkyMiAxLjAwMzkyMmMtNS4wMTk2MDggOS4wMzUyOTQtMTAuMDM5MjE2IDE2LjA2Mjc0NS0xNC4wNTQ5MDIgMjMuMDkwMTk2bDM3LjE0NTA5OCAyNy4xMDU4ODJjNi4wMjM1MjktOC4wMzEzNzMgMTEuMDQzMTM3LTE2LjA2Mjc0NSAxNy4wNjY2NjctMjYuMTAxOTYgMS4wMDM5MjItMS4wMDM5MjIgMS4wMDM5MjItMS4wMDM5MjIgMS4wMDM5MjItMi4wMDc4NDRsLTEuMDAzOTIyIDEuMDAzOTIyLTM3LjE0NTA5OC0yOC4xMDk4MDR6IiBmaWxsPSIjYmZiZmJmIiBwLWlkPSIxNTIwMCI+PC9wYXRoPjxwYXRoIGQ9Ik00MTMuMDcxMTA5IDIyLjMyNzIxNmMtOTUuMzcyNTQ5IDIxLjA4MjM1My0xODEuNzA5ODA0IDY4LjI2NjY2Ny0yNTAuOTgwMzkyIDEzOC41NDExNzZhNTE5LjgzMDU4OCA1MTkuODMwNTg4IDAgMCAwLTE0Mi41NTY4NjMgMjY2LjAzOTIxNmwtMS4wMDM5MjEgMi4wMDc4NDNjLTExLjA0MzEzNyA1OC4yMjc0NTEtMTIuMDQ3MDU5IDExNi40NTQ5MDItMi4wMDc4NDQgMTczLjY3ODQzMSAyMS4wODIzNTMgMTMyLjUxNzY0NyA5My4zNjQ3MDYgMjQ2Ljk2NDcwNiAyMDIuNzkyMTU3IDMyMy4yNjI3NDUgMTA5LjQyNzQ1MSA3Ni4yOTgwMzkgMjQxLjk0NTA5OCAxMDQuNDA3ODQzIDM3NC40NjI3NDUgODEuMzE3NjQ4IDE4LjA3MDU4OC0zLjAxMTc2NSAzNi4xNDExNzYtNy4wMjc0NTEgNTIuMjAzOTIyLTEyLjA0NzA1OWw5LjAzNTI5NC0yLjAwNzg0MyAxLjAwMzkyMi0xLjAwMzkyMmM3LjAyNzQ1MS0yLjAwNzg0MyAxMy4wNTA5OC01LjAxOTYwOCAyMC4wNzg0MzEtNy4wMjc0NTFoMS4wMDM5MjJsNC4wMTU2ODYtMi4wMDc4NDNjNDEuMTYwNzg0LTE1LjA1ODgyNCA4MC4zMTM3MjUtMzYuMTQxMTc2IDExNS40NTA5OC02MC4yMzUyOTRsLTI2LjEwMTk2MS0zOC4xNDkwMmMtMzAuMTE3NjQ3IDIxLjA4MjM1My02NC4yNTA5OCA0MC4xNTY4NjMtMTAwLjM5MjE1NiA1My4yMDc4NDNoLTYuMDIzNTNsLTMuMDExNzY1IDMuMDExNzY1Yy03LjAyNzQ1MSAyLjAwNzg0My0xNC4wNTQ5MDIgNS4wMTk2MDgtMjEuMDgyMzUyIDcuMDI3NDUxbC02LjAyMzUzIDEuMDAzOTIyLTEuMDAzOTIxIDEuMDAzOTIxYy0xNC4wNTQ5MDIgNC4wMTU2ODYtMjkuMTEzNzI1IDcuMDI3NDUxLTQ1LjE3NjQ3MSAxMC4wMzkyMTYtMTIwLjQ3MDU4OCAyMS4wODIzNTMtMjQwLjk0MTE3Ni01LjAxOTYwOC0zMzkuMzI1NDktNzMuMjg2Mjc1LTk5LjM4ODIzNS02OC4yNjY2NjctMTYzLjYzOTIxNi0xNzIuNjc0NTEtMTgyLjcxMzcyNi0yOTIuMTQxMTc2LTkuMDM1Mjk0LTUyLjIwMzkyMi04LjAzMTM3My0xMDQuNDA3ODQzIDIuMDA3ODQzLTE1Ny42MTU2ODZsMS4wMDM5MjItMi4wMDc4NDRjMTguMDcwNTg4LTkyLjM2MDc4NCA2Mi4yNDMxMzctMTc1LjY4NjI3NSAxMjkuNTA1ODgyLTI0Mi45NDkwMTkgNjMuMjQ3MDU5LTYzLjI0NzA1OSAxNDIuNTU2ODYzLTEwNi40MTU2ODYgMjI4Ljg5NDExOC0xMjUuNDkwMTk2bC0xNC4wNTQ5MDItNDQuMTcyNTQ5eiIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMC4xIj48L3BhdGg+PC9zdmc+",e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEyNjIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTE3MS42ODY0IDBDMTIyMi4wMzMwNjcgMCAxMjYyLjk5MzA2NyAzOS43MzEyIDEyNjIuOTkzMDY3IDg4LjU0MTg2N3Y4NDYuOTE2MjY2QzEyNjIuOTkzMDY3IDk4NC4yNjg4IDEyMjIuMDMzMDY3IDEwMjQgMTE3MS42ODY0IDEwMjRIOTEuMzY2NGMtNy45MTg5MzMgMC0xNS41OTg5MzMtMC45ODk4NjctMjIuOTAzNDY3LTIuODMzMDY3QTgzLjkzMzg2NyA4My45MzM4NjcgMCAwIDEgMC4wNTk3MzMgOTM1LjQ1ODEzM1Y4OC41NDE4NjdDMC4wNTk3MzMgMzkuNzMxMiA0MS4wMTk3MzMgMCA5MS4zNjY0IDBoMTA4MC4zMnogbS01NC4yNzIgMTEzLjIyMDI2N0gxNDIuMDIwMjY3Yy0xNS45NDAyNjcgMC0yOC45NDUwNjcgMTIuMjg4LTI4Ljk0NTA2NyAyNy4yNzI1MzNsLTAuMDM0MTMzIDY0NC40MzczMzMgMjI0LjMyNDI2Ni0yNDUuMDc3MzMzYzMzLjk5NjgtMzcuMTM3MDY3IDkzLjU1OTQ2Ny0zNy4xMzcwNjcgMTI3LjY1ODY2NyAwbDIyNy44MDU4NjcgMjQ4LjU5MzA2NyAyMDMuNzQxODY2LTI1MS42OTkyYzI2LjcyNjQtMzMuMDA2OTMzIDczLjU5MTQ2Ny0zMy4wMDY5MzMgMTAwLjMxNzg2NyAwbDE0OS40Njk4NjcgMTg0LjU1ODkzM1YxNDAuNDkyOGMwLTE1LjAxODY2Ny0xMy4wMDQ4LTI3LjI3MjUzMy0yOC45NDUwNjctMjcuMjcyNTMzeiBtLTM1Ni42OTMzMzMgNzYuNDkyOGExNDQuNjU3MDY3IDE0NC42NTcwNjcgMCAwIDEgMTQzLjQ5NjUzMyAwIDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjcgMTIzLjE4NzIgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2NyAxMjMuMTUzMDY2IDE0NC42NTcwNjcgMTQ0LjY1NzA2NyAwIDAgMS0xNDMuNTMwNjY3IDAgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2Ni0xMjMuMTUzMDY2IDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjYtMTIzLjE4NzJ6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||"",e.local=void 0===e.local||e.local,e.dump=e.dump||"",e.dispose=void 0===e.dispose||e.dispose,e.quality=e.quality||.9,e.aspectRatio=void 0===e.aspectRatio||e.aspectRatio,e.width=e.width||0,e.height=e.height||0,e.maxWidth=e.maxWidth||1/0,e.maxHeight=e.maxHeight||1/0,e.minWidth=e.minWidth||0,e.minHeight=e.minHeight||0,e.type=e.type||"",e.base64=e.base64||!1,e.cropper=e.cropper||!1,e.uploader=e.uploader||null,e.gif=void 0===e.gif||e.gif,e.extend=e.extend||{};var n,o,i,r=[e.local?"":"hidden-local",e.dump?"":"hidden-url"],s='<div class="layer-image-select '+r.join(" ")+'"><div class="form-group"><div class="preview"><div class="alert alert-danger" style="position:absolute;z-index:1right:10px;display:none" role="alert"></div><img src="'+(e.image||e.placeholder)+'"><i></i></div></div><div class="form-group input-file"><label>'+($.bootstrapModaler.options.lang.file||"Select File")+'</label><input type="file" name="file" class="form-control file" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"></div><form class="form-group input-url"><label>'+($.bootstrapModaler.options.lang.imageUrl||"Image Url")+'</label><div class="input-group"><input type="url" name="url" class="form-control" value="'+e.image+'"><span class="input-group-append"><button type="reset" class="btn btn-secondary">'+($.bootstrapModaler.options.lang.reset||"Reset")+'</button><button type="button" class="btn btn-secondary url-dump">'+($.bootstrapModaler.options.lang.imageDump||"Image Dump")+"</button></span></form></div></div>";"function"==typeof(t=t||{})&&(a=t);var l=t.success||function(){},c=window.innerWidth<600,u=function(t){n.preview="",t&&o.attr("src",e[t]),i.html($.bootstrapModaler.options.lang.imageNone||"Image None").show().fadeOut(2e3)};return t=$.extend({type:1,area:c?"100%":"600px",title:"image",btn:["ok","cancel"]},t,{success:function(a,r){var s=a.outerHeight(),c=parseFloat(a.css("top"));a.addClass("layui-layer-dialog").removeClass("layui-layer-page"),t.offset&&"auto"==t.offset||a.css("top",c+(s-a.outerHeight())/2),l(a,r),n=a,n.preview="",n.name="",n.canvas=null,n.result=null,o=a.find("img"),i=a.find(".alert");var d,M,p,f,y=a.find('input[type="file"]'),m=a.find('input[name="url"]'),g=a.find("button.url-dump"),N=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};e.type&&!N("."+e.type)&&(e.type="jpeg");var b=function(t){if(n.preview="",o.attr("src",e.loading),/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i.test(t))n.result=t,f=t.match(/data:(\S*);base64/)[1],n.info={type:"url",value:t,mime:e.type||f,quality:e.quality},d=t,n.name=Math.random().toString(36).substring(3,35)+"."+f.substring("image/".length),y.val(""),j();else{if(!t)return u("placeholder");var a=new XMLHttpRequest;a.open("GET",e.dump+(e.dump.indexOf("?")<0?"?":"&")+"url="+encodeURIComponent(t)),a.responseType="blob",a.onload=function(){n.result=a.response,f=a.getResponseHeader("Content-Type"),n.info={type:"url",value:t,mime:e.type||f,quality:e.quality},d=URL.createObjectURL(n.result),n.name=t.replace(/(.*\/)*([^.]+)/i,"$2"),y.val(""),j()},a.onerror=function(){m.val(""),u("placeholder")},a.onloadend=function(){200!=a.status&&(m.val(""),u("placeholder"))},a.send()}},D=function(e){n.result=M=e,n.preview="object"==(void 0===M?"undefined":_typeof(M))?URL.createObjectURL(M):M,o.attr("src",n.preview)},j=function(){var t=_typeof(e.dispose);if("boolean"==t&&e.dispose){var a=new Image;p=document.createElement("canvas");var o=p.getContext("2d");a.src=d,a.onerror=function(){u("placeholder")},a.onload=function(){var t=a.width/a.height,i=Math.max(Math.min(e.width?e.width:a.width,e.maxWidth),e.minWidth),r=Math.min(e.height?e.height:a.height,e.maxHeight);e.aspectRatio&&(r="boolean"==typeof e.aspectRatio?i/t:i/e.aspectRatio),r=Math.max(r,e.minHeight),p.width=i,p.height=r,o.drawImage(a,0,0,p.width,p.height),e.base64?D(e.type||f?p.toDataURL(e.type?"image/"+e.type:f,e.quality):p.toDataURL()):e.type||f?p.toBlob(D,e.type?"image/"+e.type:f,e.quality):p.toBlob(D),n.canvas=p}}else D("function"==t?e.dispose(n.result):n.result);e.gif&&"image/gif"==n.info.mime&&(e.base64=!1,e.cropper=!1)};e.image&&e.image!=e.placeholder&&e.dump&&b(e.image),e.local?(y.filestyle(),a.find(".bootstrap-filestyle .group-span-filestyle").removeClass("input-group-btn").addClass("input-group-append"),y.on("change",function(){var t=$(this).prop("files");if("object"==(void 0===t?"undefined":_typeof(t))&&t.length>0){n.preview="",o.attr("src",e.loading);var a=t[0];N(a)?(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(a),n.result=a,f=a.type,n.info={type:"file",value:a,mime:e.type||f,quality:e.quality},d=this.url,n.name=a.name,m.val(""),j()):u("placeholder")}})):a.find(".input-file").remove(),e.dump?g.on("click",function(){b(m.val())}):a.find(".input-url").remove()},yes:function(t,o){if(o.preview){if(e.cropper)$.admin.layer.cropper($.extend({viewMode:1},e,"object"==_typeof(e.cropper)?e.cropper:{},{image:o.preview,lock:!0}),function(t,o){if("function"==typeof a)return o.name=n.name,o.info=n.info,o.extend=e.extend,a(t,o)}),$.admin.layer.close(t);else if("function"==typeof a)return a(t,o)}else u()}}),layer.open($.extend({btn:["ok","cancel"]},t,{content:s}))},layer.fontAwesome=function(e,t,a){e=e||[],e.list=e.list||[];var n,o,i,r,s,l;"function"==typeof(t=t||{})&&(a=t);var c=t.success||function(){},u=function(e){var t="";return $.each(e,function(e,a){t+='<li data-font="'+a+'" data-toggle="tooltip" title="'+a+'"><i class="fa fa-'+a+'"></i>'}),t},d=window.innerWidth<600;return t=$.extend({type:1,shadeClose:!0,area:d?["100%","100%"]:["567px","80%"],title:"icon"},t,{success:function(d,M){var p=d.outerHeight(),f=parseFloat(d.css("top"));d.addClass("layui-layer-dialog").removeClass("layui-layer-page"),t.offset&&"auto"==t.offset||d.css("top",f+(p-d.outerHeight())/2),o=d.find("ul"),i=d.find("select"),r=d.find("input"),"string"==typeof e.list?(n=[],$.get(e.list,function(e){for(var t,a=/\.fa-([\w\-]+?)\:before/gi,i=[];null!=(t=a.exec(e));)i.push(t[1]);n=i,o.html(u(n)),c(d,M),
        $('li[data-toggle="tooltip"]',o).tooltip({container:".layer-font-awesome",trigger:"hover"})})):(n=e.list,o.html(u(n)),c(d,M),$('li[data-toggle="tooltip"]',o).tooltip({container:".layer-font-awesome",trigger:"hover"})),i.on("change",function(){$("li i",o).removeClass("fa").removeClass("fas").removeClass("fab").removeClass("far").addClass($(this).val())}),r.on("keyup",function(){$("li",o).removeClass("d-none"),""!=$(this).val()&&$("li:not([data-font*='"+$(this).val()+"'])",o).addClass("d-none")}),o.on("click","li",function(){if(l=$(this).data("font"),s=i.val()+" fa-"+l,d.iconSelected=l,d.iconClass=s,"function"==typeof a)return a(M,d)})},yes:function(e,t){if(t.iconSelected=l,t.iconClass=s,"function"==typeof a)return a(e,t)}}),layer.open($.extend({btn:!1},t,{content:'<div class="layer-font-awesome"><div class="input-group"><select class="custom-select"><option selected>fas</option><option value="fab">fab</option><option value="far">far</option></select><input class="icon-search form-control" type="text" style="flex:4"></div><ul></ul></div>'}))},layer.radio=function(e,t,a){e=e||[],e.list=e.list||[],e.current=e.current||"";var n;"function"==typeof(t=t||{})&&(a=t);var o=t.success||function(){},i=function(e){var t="";return $.each(e,function(e,a){t+='<label><input name="radio" class="radio" type="radio" value="'+e+'">'+a+"</label>"}),t},r=window.innerWidth<600;return t=$.extend({area:r?"100%":"567px",title:"radio"},t,{success:function(t,a){n=t.find(".check-group"),n.html(i(e.list)),$.admin.radio(n),$('input[value="'+e.current+'"]',n).iCheck("check"),o(t,a)},yes:function(e,t){if(t.checked=$("input:checked",n).val(),"function"==typeof a)return a(e,t)}}),layer.open($.extend({btn:["ok","cancel"]},t,{content:'<div class="form-group"><div class="check-group"></div></div>'}))}),$.extend($,{admin:{console:$.extend({},console,{info:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#00B8D8")})},warn:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#ffb400")})},error:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#C4183C")})}}),try:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return e()}catch(e){return window._debug&&$.admin.console.error(t?e:e.message),null}},layer:layer,modal:$.bootstrapModaler,alert:$.bootstrapAlert,tabs:$.bootstrapTabs,cookie:$.bootstrapCookie,lang:{format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $.each(t,function(t,a){e=e.replace(new RegExp(":"+t,"g"),a)}),e}},api:{fail:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.responseJSON&&e.responseJSON.code?e.responseJSON.code:e.status;n=n||e.code||400;var o=e.responseJSON&&e.responseJSON.message?e.responseJSON.message:e.statusText;o=o||("string"==typeof e?e:e.message||"");var i=$.extend({code:0,message:""},e.responseJSON||{},{code:n,message:o});if(window._debug&&$.admin.console.error(i),"function"!=typeof t&&(a=t,t=null),$.admin.layer.closeAll("loading"),t)return t(i,this);a&&$.admin.alert.danger(o,{pos:"string"==typeof a&&a.length<=2?a:null})},success:function(e,t,a){var n=!0;if("object"!=(void 0===e?"undefined":_typeof(e))||"[object object]"!=Object.prototype.toString.call(e).toLowerCase()){n=!1;var o={status:510,statusText:"Not a JSON",code:510,message:"Not a JSON"}}return $.admin.layer.closeAll("loading"),n&&t?t(e):a?a(o):$.admin.api.fail(o)},open:function(e,t,a,n,o){"function"==typeof(a=a||{})&&(o=n,n=a);var i=a.success||function(){};a.success=function(e,t){e.body=layer.getChildFrame("body",t),e.iframe=window[e.find("iframe")[0].name],i(e,t)};var r,s=void 0!==a.loading?a.loading:$.ajaxSettings.showLoading;a.yes=function(e,t){$.admin.try(function(){n&&n(e,t)})};var l=a.end||function(){};a.end=function(){o&&delete $.admin.layer.report["layui-layer-iframe"+r],l()};var c=a.btn||(o?["ok","cancel"]:["ok"]),u=window.innerWidth<960;return r=$.admin.layer.open($.extend({title:e,type:2,maxmin:!0,resize:!0,area:[u?"100%":"960px",u?"100%":"720px"],content:t,btn:c},a)),o&&($.admin.layer.report=$.admin.layer.report||{},$.admin.layer.report["layui-layer-iframe"+r]=function(e,t){o(e,t),s&&$.admin.layer.closeAll("loading")}),r},ajax:function(e,t,a,n,o){"function"==typeof(a=a||{})&&(o=n,n=a);var i=a.success||function(){};a.success=function(e,a){$(".layui-layer-content",e).html('<div class="layui-layer-load" style="width:100%;height:100%"></div>').load(t),i(e,a)},a.yes=function(e,t){$.admin.try(function(){n(e,t)})};var r=a.btn||(o?["ok","cancel"]:["ok"]),s=window.innerWidth<960;return $.admin.layer.open($.extend({title:e,type:1,maxmin:!0,resize:!0,area:[s?"100%":"960px",s?"100%":"720px"],content:"",btn:r},a))},upload:function(e,t,a){var n=new FormData,o=t.blob||null;if(delete t.blob,!(o instanceof Blob))return $.admin.api.fail({code:400,message:$.bootstrapModaler.options.lang.fileNone||"File None"});var i=t.name||"unknow";delete t.name;var r=t.key||"file";delete t.key,$.each(t,function(e,t){n.append(e,t)}),n.append(r,o,i.substr(i.length-64)),$.ajaxSettings.showLoading&&$.admin.layer.load(0),$.ajax({type:"POST",url:e,data:n,processData:!1,contentType:!1,success:function(e){$.admin.api.success(e,function(e){a(e)})}}).fail($.admin.api.fail)},report:function(e,t,a){if("loading"===e)return t?parent.$.admin.layer.load(!0===t?0:t):parent.$.admin.layer.closeAll("loading");if("fail"===e)return parent.$.admin.api.fail("object"==(void 0===t?"undefined":_typeof(t))?t:{message:t})||!1;if("string"==typeof t&&"string"==typeof a?(t=!1,a=e):t=!0,"object"==(void 0===e?"undefined":_typeof(e))&&"[object object]"==Object.prototype.toString.call(e).toLowerCase()||(t=!1,a=$.extend({code:510,message:"Not a JSON"},a,{status:510,statusText:"Not a JSON"})),parent.$.admin.layer.report&&parent.$.admin.layer.report[window.name]){parent.$.admin.layer.report[window.name](parent.$.admin.layer.getFrameIndex(window.name),{data:e,status:t,xhr:a})&&delete parent.$.admin.layer.report[window.name]}}},select:function(e,t){if(t=$.extend(t,{dropdownAutoWidth:!0,width:"100%"}),t.theme=t.color||"primary",!e)return!1;var a=[];return $.admin.try(function(){return $(e).each(function(e,n){$.each($(n).select2(t),function(e,t){a.push(t)}),(t.keep||$(n).data("keep"))&&$(n).on("select2:select",function(e){var t=$(e.params.data.element);t.detach(),$(this).append(t),$(this).trigger("change")})}),$(a)})},checkbox:function(e,t){return t=$.extend(t,{checkboxClass:"icheckbox_square-blue"}),t.color=t.color||"primary",t.checkboxClass+=" fa icheckbox_color-"+t.color,$.admin.try(function(){return $(e).iCheck(t)})},switch:function(e,t){return t=$.extend({onText:"",offText:"",color:"primary",size:"",class:""},t),$.admin.try(function(){var a=Math.floor(1e9*Math.random());return $(e).each(function(e,n){var o=n.id||"switch-"+a+"-"+(e+1);$(n).wrap('<span class="switch-wrap">'),$(n).addClass((t.size?"switch-"+t.size:"")+" "+t.class).attr({id:o,switch:$(n).attr("switch")||t.color,disabled:$(n).attr("disabled")||$(n).attr("readonly")}).after($("<label>").attr({for:o,"data-on-label":t.onText,"data-off-label":t.offText}))}).change(function(e){t.onSwitchChange&&t.onSwitchChange(e,$(this).is(":checked"))})})},radio:function(e,t){return t=$.extend(t,{radioClass:"iradio_square-blue"}),t.color=t.color||"primary",t.radioClass+=" fa iradio_color-"+t.color,$.admin.try(function(){return $(e).iCheck(t)})},dualbox:function(e,t){return t=$.extend(t,{}),$.admin.try(function(){var a=Math.floor(1e9*Math.random());return $(e).each(function(e,n){var o=n.id||"dualbox-"+a+"-"+(e+1);$(n).attr({id:o}).dualbox($.extend({disabled:$(n).attr("disabled")||$(n).attr("readonly")},t))})})},date:function(e,t){return t=t||{},t.format=t.format||"YYYY-MM-DD HH:mm:ss",t.showTodayButton=void 0===t.showTodayButton||t.showTodayButton,t.showClear=void 0===t.showClear||t.showClear,t.showClose=void 0===t.showClose||t.showClose,t.icons=t.icons||{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"far fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"},t=$.extend(t,{}),$.admin.try(function(){return $(e).datetimepicker(t)})},color:function(e,t){return t=$.extend(t,{addon:".color-addon"}),$(e).find(t.addon).addClass("colorpicker-input-addon").append("<i></i>"),$.admin.try(function(){return $(e).colorpicker(t)})},file:function(e,t){return t=$.extend(t,{}),$(e).filestyle(t),$.admin.try(function(){return $(e).parent().find(".bootstrap-filestyle .group-span-filestyle").removeClass("input-group-btn").addClass("input-group-append")})},slider:function(e,t){return t=$.extend(t,{}),t.skin=t.color||"primary",t.min=t.min||0,t.input_values_separator=t.input_values_separator||",",$.admin.try(function(){return $(e).ionRangeSlider(t)})},linkage:function(e,t){return t=$.extend({list:[],value:[],tree:!0,parentKey:"pid",titleKey:"title",bindKey:"id",listKey:"list",placeholderStatus:!1,placeholderList:["","",""]},t||{}),!(!e||e.length<2)&&$.admin.try(function(){if(t.tree)t.data=t.data||t.list;else{t.data=function e(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[];for(var i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r[t.parentKey]==n){var s=r;s[t.listKey]=e(a,s[t.bindKey]),o.push(s)}}return o}(t.data||t.list)}if("object"!=_typeof(t.value)){t.value=function(e,a){var n=[];return function a(o,i){for(var r=0;r<o.length;r++){var s=o[r];if(s[t.bindKey]==i){n.push(s),a(e,s[t.parentKey]);break}s[t.listKey]&&a(s[t.listKey],i)}}(e,a),n}(tree,t.value).reverse().map(function(e){return e[t.bindKey]})}var a=function a(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,s=$(e[n]),l=null;s[0].options.length=0,t.placeholderStatus&&(s[0].options[r++]=new Option(t.placeholderList[n]||"","")),$.each(o,function(e,a){s[0].options[r++]=new Option(a[t.titleKey],a[t.bindKey]),i||null!==l||t.placeholderStatus||(l=a[t.listKey]),a.id==i&&(s.val(a[t.bindKey]),l=a[t.listKey])}),n+1<e.length&&a(n+1,l,t.value[n+1])},n=function e(a,n){var o=null;return a&&a.length?($.each(a,function(a,i){return i[t.bindKey]==n?(o=i,!1):!(o=e(i[t.listKey],n))&&void 0}),o):o};return $.each(e,function(o,i){$("body").on("change",i,function(r){var s=$(i).val();$.each(e,function(e,i){if(o<e){var r=n(t.data,s);a(e,r?r[t.listKey]:[],$(i).val()),s=$(i).val()}})})}),a(0,t.data,t.value[0]),t})},editor:function(e,t){t=$.extend({language:$.locale,languageUrl:null,branding:!1,statusbar:!1,convert_urls:!1,toolbar_mode:"floating",plugins:"preview fullscreen lists advlist table autolink link dimage hr",menubar:"file edit insert format table",toolbar:"styleselect | bullist numlist outdent indent | dimage | preview fullscreen",contextmenu:"",table_responsive_width:!0},t||{});var a=t.setup||function(){};t.setup=function(e){e.on("change",function(){e.save()}),a(e)};var n=[];return $.admin.try(function(){var a=Math.floor(1e9*Math.random());return $(e).each(function(e,o){var i=o.id||"editor-"+a+"-"+(e+1);$(o).attr("id",i),n.push(tinymce.init($.extend({selector:"#"+i},{readonly:$(o).attr("readonly")||$(o).attr("disabled")},t)))}),0!=n.length&&(1==n.length?n[0]:n)})},markdown:function(e,t){var a=[];return $.admin.try(function(){var n=Math.floor(1e9*Math.random());return $(e).each(function(e,o){var i=o.id||"markdown-"+n+"-"+(e+1);"textarea"==o.tagName.toLowerCase()?$(o).attr("id","").wrap('<div id="'+i+'">'):$(o).attr("id",i),a.push(editormd(i.replace(/#/g,""),$.extend({readOnly:$(o).attr("disabled")||$(o).attr("readonly")},t)))}),0!=a.length&&(1==a.length?a[0]:a)})},form:function(e,t){t=t||{rules:{},message:{},commit:function(){}},t.list=t.list||{},t.rules=t.rules||{},t.messages=t.messages||{},t.errors=void 0===t.errors||t.errors,t.debug=t.debug||!1,t.protect=t.protect||500,t.callback=t.callback||{complete:null,right:null,fail:null,build:null},t.callback.complete=t.callback.complete||null,t.callback.success=t.callback.success||null,t.callback.fail=t.callback.fail||null,t.callback.build=t.callback.build||null,t.render=t.render||!1,t.render&&$.admin.try(function(){setTimeout(function(){$(e).find(".radio").each(function(e,t){$.admin.radio(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".switch").each(function(e,t){$.admin.switch(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".checkbox").each(function(e,t){$.admin.checkbox(t,$(t).data())}),$(e).find(".select").each(function(e,t){$.admin.select(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".color").each(function(e,t){$.admin.color(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".file").each(function(e,t){$.admin.file(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".slider").each(function(e,t){$.admin.slider(t,$.extend({disable:$(t).attr("disabled")||$(t).attr("readonly")},$(t).data()))}),$(e).find(".date").each(function(e,t){$.admin.date(t,$(t).data())}),$(e).find(".dualbox").each(function(e,t){$.admin.dualbox(t,$.extend({disable:$(t).attr("disabled")||$(t).attr("readonly")},$(t).data()))})})}),Object.keys(t.list).length&&$.each(t.list,function(e,a){t.rules[e]=t.rules[e]||{},t.messages[e]=t.messages[e]||{},"object"==(void 0===a?"undefined":_typeof(a))?$.each(a,function(n,o){t.rules[e].required=void 0===a.required||a.required,"string"==typeof o.message&&(t.messages[e][n]=o.message,void 0!==a.required&&void 0!==t.messages[e].required||(t.messages[e].required=o.message)),"object"==(void 0===o?"undefined":_typeof(o))&&void 0!==o.rule||(o={rule:o}),t.rules[e][n]=void 0===o.rule||o.rule}):t.rules[e].required=a});var a=$.extend({errorPlacement:function(e,t){t.is(":radio")||t.is(":checkbox")?e.appendTo(t.parent().parent().parent()):e.appendTo(t.parent())}},t,{errorClass:"has-error",errorElement:"label",submitHandler:function(e){if("function"==typeof t.commit&&void 0!==t.commit(n))return"function"==typeof t.callback.complete&&t.callback.complete(n),"function"==typeof t.callback.fail&&t.callback.fail({elem:e,message:null,type:"other"}),!1;if(t.debug)"function"==typeof t.debug?t.debug(n):$.admin.console.debug(n);else{"function"==typeof t.callback.complete&&t.callback.complete(n);var a=(new Date).getTime();a-($(e).data("lastSubmitTime")||0)>=t.protect?($(e).data("lastSubmitTime",a),"function"==typeof t.callback.success&&t.callback.success(n)):$.admin.console.warn("The submit interval is too short")}}});t.errors||$.extend(a,{onfocusout:!1,onkeyup:!1,onclick:!1,showErrors:function(e,a){$.each(a,function(e,a){return"function"==typeof t.callback.complete&&t.callback.complete(n),a.message&&("function"==typeof t.callback.fail?t.callback.fail({elem:a.element,message:a.message,type:a.method}):alert(a.message)),!1})}});var n={selector:e,options:t,validate:null,value:function(){return $(e).serializeObject()}};return $.admin.try(function(){return $.validator.classRuleSettings={},n.validate=$(e).validate(a),n.validate&&"function"==typeof t.callback.build&&t.callback.build(n),n.validate})},cropper:function(e,t){if(!e)return!1;var a=[];return $.admin.try(function(){return $(e).each(function(e,n){if(!n||!/^img|canvas$/i.test(n.tagName))return!0;a.push(n.cropper=new Cropper(n,t))}),0!=a.length&&(1==a.length?a[0]:a)})},echarts:function(e){function t(t,a,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,a){var n=[];return $.admin.try(function(){var o=Math.floor(1e9*Math.random());return $(e).each(function(e,i){var r=i.id||"echarts-"+o+"-"+(e+1);$(i).attr("id",r);var s=echarts.init(document.getElementById(r),window._theme||null);s.setOption($.extend({backgroundColor:"transparent"},t,a)),s.loading=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e?s.showLoading(t,$.extend({text:$.bootstrapModaler.options.lang.loading||"Loading"},"dark"==window._theme?{color:"#2b3a4a",textColor:"#fff",maskColor:"rgba(0, 0, 0, 0.2)"}:{color:"#2b3a4a",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.5)"},a)):s.hideLoading()},n.push(s)}),0!=n.length&&(1==n.length?n[0]:n)})}),clipboard:function(e,t,a){"function"==typeof t&&(a={success:t,error:a||function(){}},t={});var n=new ClipboardJS(e,t,a);return $.each(a,function(e,t){n.on(e,function(e){t(e)})}),n}}})}(jQuery);
